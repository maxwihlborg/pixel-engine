!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}},r=!0;try{e[i].call(o.exports,o,o.exports,n),r=!1}finally{r&&delete t[i]}return o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=24)}([
/*!**********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \***************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!
  \************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},
/*!**************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js ***!
  \**************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=n(/*! ../helpers/typeof */30),o=n(/*! ./assertThisInitialized */0);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?o(e):t}},
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/getPrototypeOf.js ***!
  \***************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},
/*!*********************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/inherits.js ***!
  \*********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=n(/*! ./setPrototypeOf */31);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},
/*!**************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/slicedToArray.js ***!
  \**************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=n(/*! ./arrayWithHoles */45),o=n(/*! ./iterableToArrayLimit */46),r=n(/*! ./nonIterableRest */47);e.exports=function(e,t){return i(e)||o(e,t)||r()}},
/*!***************************************************!*\
  !*** ./node_modules/immutability-helper/index.js ***!
  \***************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=n(/*! invariant */33),o=Object.prototype.hasOwnProperty,r=Array.prototype.splice,s=Object.prototype.toString,a=function(e){return s.call(e).slice(8,-1)},l=Object.assign||function(e,t){return c(t).forEach(function(n){o.call(t,n)&&(e[n]=t[n])}),e},c="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function u(e){if(Array.isArray(e))return l(e.constructor(e.length),e);if("Map"===a(e))return new Map(e);if("Set"===a(e))return new Set(e);if(e&&"object"==typeof e){var t=Object.getPrototypeOf(e);return l(Object.create(t),e)}return e}function h(){var e=l({},f);return t.extend=function(t,n){e[t]=n},t.isEquals=function(e,t){return e===t},t;function t(n,r){"function"==typeof r&&(r={$apply:r}),Array.isArray(n)&&Array.isArray(r)||i(!Array.isArray(r),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),i("object"==typeof r&&null!==r,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(e).join(", "));var s=n;return c(r).forEach(function(i){if(o.call(e,i)){var l=n===s;s=e[i](r[i],s,r,n),l&&t.isEquals(s,n)&&(s=n)}else{var c="Map"===a(n)?t(n.get(i),r[i]):t(n[i],r[i]);t.isEquals(c,s[i])&&(void 0!==c||o.call(n,i))||(s===n&&(s=u(n)),"Map"===a(s)?s.set(i,c):s[i]=c)}}),s}}var f={$push:function(e,t,n){return p(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return p(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,o){return function(e,t){i(Array.isArray(e),"Expected $splice target to be an array; got %s",e),y(t.$splice)}(t,n),e.forEach(function(e){y(e),t===o&&e.length&&(t=u(o)),r.apply(t,e)}),t},$set:function(e,t,n){return function(e){i(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}(n),e},$toggle:function(e,t){v(e,"$toggle");var n=e.length?u(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,i){return v(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===i&&(t=u(i)),delete t[e])}),t},$add:function(e,t,n,i){return m(t,"$add"),v(e,"$add"),"Map"===a(t)?e.forEach(function(e){var n=e[0],o=e[1];t===i&&t.get(n)!==o&&(t=u(i)),t.set(n,o)}):e.forEach(function(e){t!==i||t.has(e)||(t=u(i)),t.add(e)}),t},$remove:function(e,t,n,i){return m(t,"$remove"),v(e,"$remove"),e.forEach(function(e){t===i&&t.has(e)&&(t=u(i)),t.delete(e)}),t},$merge:function(e,t,n,o){return function(e,t){i(t&&"object"==typeof t,"update(): $merge expects a spec of type 'object'; got %s",t),i(e&&"object"==typeof e,"update(): $merge expects a target of type 'object'; got %s",e)}(t,e),c(e).forEach(function(n){e[n]!==t[n]&&(t===o&&(t=u(o)),t[n]=e[n])}),t},$apply:function(e,t){return function(e){i("function"==typeof e,"update(): expected spec of $apply to be a function; got %s.",e)}(e),e(t)}},d=h();function p(e,t,n){i(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),v(t[n],n)}function v(e,t){i(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function y(e){i(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function m(e,t){var n=a(e);i("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",t,n)}e.exports=d,e.exports.default=d,e.exports.newContext=h},
/*!*************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/objectDestructuringEmpty.js ***!
  \*************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}},
/*!**********************************************************!*\
  !*** ./node_modules/@babel/runtime/regenerator/index.js ***!
  \**********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){e.exports=n(/*! regenerator-runtime */52)},
/*!******************************************!*\
  !*** ./node_modules/classnames/index.js ***!
  \******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)&&i.length){var s=o.apply(null,i);s&&e.push(s)}else if("object"===r)for(var a in i)n.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}void 0!==e&&e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},
/*!*****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/asyncToGenerator.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function n(e,t,n,i,o,r,s){try{var a=e[r](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,o)}e.exports=function(e){return function(){var t=this,i=arguments;return new Promise(function(o,r){var s=e.apply(t,i);function a(e){n(s,o,r,a,l,"next",e)}function l(e){n(s,o,r,a,l,"throw",e)}a(void 0)})}}},
/*!****************************************************!*\
  !*** ./node_modules/fast-array-diff/dist/index.js ***!
  \****************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var o=n(/*! ./diff/same */54);t.same=o.default,i(n(/*! ./diff/diff */55)),i(n(/*! ./diff/patch */56)),i(n(/*! ./diff/apply */57))},
/*!*******************************************************!*\
  !*** ./node_modules/fast-array-diff/dist/diff/lcs.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var i;!function(e){e[e.none=0]="none",e[e.horizontal=1]="horizontal",e[e.vertical=2]="vertical",e[e.diagonal=4]="diagonal",e[e.all=7]="all"}(i||(i={})),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){var r=function(e,t,n){for(var i=e.length,o=t.length,r=i+o,s={1:0},a=0;a<=r;++a)for(var l=-a;l<=a;l+=2){for(var c=void 0,u=(c=l===-a||l!==a&&s[l-1]+1<s[l+1]?s[l+1]:s[l-1]+1)-l;c<i&&u<o&&n(e[c],t[u]);)c++,u++;if(c===i&&u===o)return a;s[l]=c}return-1}(e,t,n);!function e(t,n,o,r,s,a,l,c,u,h,f){if(0!==l)if(l!==o-n+(a-s)){for(var d=o-n,p=a-s,v=Math.floor(p/2),y={},m=-l-1;m<=l+1;++m)y[m]={d:1/0,segments:0,direct:i.none};for(var g=((x={})[-l-1]={d:1/0,segments:0,direct:i.none},x[l+1]={d:1/0,segments:0,direct:i.none},x),b=0;b<=v;++b){y=(E=[g,y])[0],g=E[1];var _=function(e){var o=b+e;if(0===b&&0===o)return y[e]={d:0,segments:0,direct:c},"continue";var a=[{direct:i.horizontal,d:y[e-1].d+1,segments:y[e-1].segments+(y[e-1].direct&i.horizontal?0:1)},{direct:i.vertical,d:g[e+1].d+1,segments:g[e+1].segments+(g[e+1].direct&i.vertical?0:1)}];o>0&&o<=d&&b>0&&b<=p&&h(t[n+o-1],r[s+b-1])&&a.push({direct:i.diagonal,d:g[e].d,segments:g[e].segments+(g[e].direct&i.diagonal?0:1)});var l=a.reduce(function(e,t){return e.d>t.d?t:e.d===t.d&&e.segments>t.segments?t:e});a.forEach(function(e){l.d===e.d&&l.segments===e.segments&&(l.direct|=e.direct)}),y[e]=l};for(m=-l;m<=l;++m)_(m)}var w={};for(m=-l-1;m<=l+1;++m)w[m]={d:1/0,segments:0,direct:i.none};var k=((K={})[-l-1]={d:1/0,segments:0,direct:i.none},K[l+1]={d:1/0,segments:0,direct:i.none},K);for(b=p;b>=v;--b){w=(M=[k,w])[0],k=M[1];var C=function(e){var o=b+e;if(b===p&&o===d)return w[e]={d:0,segments:0,direct:u},"continue";var a=[{direct:i.horizontal,d:w[e+1].d+1,segments:w[e+1].segments+(w[e+1].direct&i.horizontal?0:1)},{direct:i.vertical,d:k[e-1].d+1,segments:k[e-1].segments+(k[e-1].direct&i.vertical?0:1)}];o>=0&&o<d&&b>=0&&b<p&&h(t[n+o],r[s+b])&&a.push({direct:i.diagonal,d:k[e].d,segments:k[e].segments+(k[e].direct&i.diagonal?0:1)});var l=a.reduce(function(e,t){return e.d>t.d?t:e.d===t.d&&e.segments>t.segments?t:e});a.forEach(function(e){l.d===e.d&&l.segments===e.segments&&(l.direct|=e.direct)}),w[e]=l};for(m=l;m>=-l;--m)C(m)}var x,E,K,M,L={k:-1,d:1/0,segments:0,direct:i.none};for(m=-l;m<=l;++m){var S=y[m].d+w[m].d;if(S<L.d)L.k=m,L.d=S,L.segments=y[m].segments+w[m].segments+(y[m].segments&w[m].segments?0:1),L.direct=w[m].direct;else if(S===L.d){var P=y[m].segments+w[m].segments+(y[m].segments&w[m].segments?0:1);P<L.segments?(L.k=m,L.d=S,L.segments=P,L.direct=w[m].direct):P===L.segments&&!(L.direct&i.diagonal)&&w[m].direct&i.diagonal&&(L.k=m,L.d=S,L.segments=P,L.direct=w[m].direct)}}v+L.k===0&&0===v&&(v++,y[L.k].direct=w[L.k].direct,w[L.k].direct=k[L.k].direct),e(t,n,n+v+L.k,r,s,s+v,y[L.k].d,c,w[L.k].direct,h,f),e(t,n+v+L.k,o,r,s+v,a,w[L.k].d,y[L.k].direct,u,h,f)}else(c&i.horizontal?1:0)+(u&i.vertical?1:0)>=(c&i.vertical?1:0)+(u&i.horizontal?1:0)?(n!==o&&f("remove",t,n,o,r,s,s),s!==a&&f("add",t,o,o,r,s,a)):(s!==a&&f("add",t,n,n,r,s,a),n!==o&&f("remove",t,n,o,r,a,a));else f("same",t,n,o,r,s,a)}(e,0,e.length,t,0,t.length,r,i.diagonal,i.all,n,o)}},
/*!**************************************************!*\
  !*** ./node_modules/keyboardjs/lib/key-combo.js ***!
  \**************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function n(e){this.sourceStr=e,this.subCombos=n.parseComboStr(e),this.keyNames=this.subCombos.reduce(function(e,t){return e.concat(t)},[])}n.sequenceDeliminator=">>",n.comboDeliminator=">",n.keyDeliminator="+",n.parseComboStr=function(e){for(var t=n._splitStr(e,n.comboDeliminator),i=[],o=0;o<t.length;o+=1)i.push(n._splitStr(t[o],n.keyDeliminator));return i},n.prototype.check=function(e){for(var t=0,n=0;n<this.subCombos.length;n+=1)if(-1===(t=this._checkSubCombo(this.subCombos[n],t,e)))return!1;return!0},n.prototype.isEqual=function(e){if(!e||"string"!=typeof e&&"object"!=typeof e)return!1;if("string"==typeof e&&(e=new n(e)),this.subCombos.length!==e.subCombos.length)return!1;for(var t=0;t<this.subCombos.length;t+=1)if(this.subCombos[t].length!==e.subCombos[t].length)return!1;for(t=0;t<this.subCombos.length;t+=1){for(var i=this.subCombos[t],o=e.subCombos[t].slice(0),r=0;r<i.length;r+=1){var s=i[r],a=o.indexOf(s);a>-1&&o.splice(a,1)}if(0!==o.length)return!1}return!0},n._splitStr=function(e,t){for(var n=e,i=t,o="",r=[],s=0;s<n.length;s+=1)s>0&&n[s]===i&&"\\"!==n[s-1]&&(r.push(o.trim()),o="",s+=1),o+=n[s];return o&&r.push(o.trim()),r},n.prototype._checkSubCombo=function(e,t,i){e=e.slice(0),i=i.slice(t);for(var o=t,r=0;r<e.length;r+=1){var s=e[r];if("\\"===s[0]){var a=s.slice(1);a!==n.comboDeliminator&&a!==n.keyDeliminator||(s=a)}var l=i.indexOf(s);if(l>-1&&(e.splice(r,1),r-=1,l>o&&(o=l),0===e.length))return o}return-1},e.exports=n},
/*!****************************************!*\
  !*** ./src/components/panel/style.css ***!
  \****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){},
/*!**********************************************!*\
  !*** ./src/components/context-menu/index.js ***!
  \**********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){},
/*!***********************************************!*\
  !*** ./node_modules/keyboardjs/lib/locale.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=n(/*! ./key-combo */15);function o(e){this.localeName=e,this.pressedKeys=[],this._appliedMacros=[],this._keyMap={},this._killKeyCodes=[],this._macros=[]}o.prototype.bindKeyCode=function(e,t){"string"==typeof t&&(t=[t]),this._keyMap[e]=t},o.prototype.bindMacro=function(e,t){"string"==typeof t&&(t=[t]);var n=null;"function"==typeof t&&(n=t,t=null);var o={keyCombo:new i(e),keyNames:t,handler:n};this._macros.push(o)},o.prototype.getKeyCodes=function(e){var t=[];for(var n in this._keyMap){this._keyMap[n].indexOf(e)>-1&&t.push(0|n)}return t},o.prototype.getKeyNames=function(e){return this._keyMap[e]||[]},o.prototype.setKillKey=function(e){if("string"!=typeof e)this._killKeyCodes.push(e);else for(var t=this.getKeyCodes(e),n=0;n<t.length;n+=1)this.setKillKey(t[n])},o.prototype.pressKey=function(e){if("string"!=typeof e){var t=this.getKeyNames(e);for(i=0;i<t.length;i+=1)-1===this.pressedKeys.indexOf(t[i])&&this.pressedKeys.push(t[i]);this._applyMacros()}else for(var n=this.getKeyCodes(e),i=0;i<n.length;i+=1)this.pressKey(n[i])},o.prototype.releaseKey=function(e){if("string"==typeof e)for(var t=this.getKeyCodes(e),n=0;n<t.length;n+=1)this.releaseKey(t[n]);else{var i=this.getKeyNames(e);if(this._killKeyCodes.indexOf(e)>-1)this.pressedKeys.length=0;else for(n=0;n<i.length;n+=1){var o=this.pressedKeys.indexOf(i[n]);o>-1&&this.pressedKeys.splice(o,1)}this._clearMacros()}},o.prototype._applyMacros=function(){for(var e=this._macros.slice(0),t=0;t<e.length;t+=1){var n=e[t];if(n.keyCombo.check(this.pressedKeys)){n.handler&&(n.keyNames=n.handler(this.pressedKeys));for(var i=0;i<n.keyNames.length;i+=1)-1===this.pressedKeys.indexOf(n.keyNames[i])&&this.pressedKeys.push(n.keyNames[i]);this._appliedMacros.push(n)}}},o.prototype._clearMacros=function(){for(var e=0;e<this._appliedMacros.length;e+=1){var t=this._appliedMacros[e];if(!t.keyCombo.check(this.pressedKeys)){for(var n=0;n<t.keyNames.length;n+=1){var i=this.pressedKeys.indexOf(t.keyNames[n]);i>-1&&this.pressedKeys.splice(i,1)}t.handler&&(t.keyNames=null),this._appliedMacros.splice(e,1),e-=1}}},e.exports=o},
/*!*************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/objectSpread.js ***!
  \*************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=n(/*! ./defineProperty */3);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){i(e,t,n[t])})}return e}},
/*!************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/objectWithoutProperties.js ***!
  \************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=n(/*! ./objectWithoutPropertiesLoose */29);e.exports=function(e,t){if(null==e)return{};var n,o,r=i(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}},
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/toConsumableArray.js ***!
  \******************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=n(/*! ./arrayWithoutHoles */36),o=n(/*! ./iterableToArray */37),r=n(/*! ./nonIterableSpread */38);e.exports=function(e){return i(e)||o(e)||r()}},
/*!*****************************************!*\
  !*** ./node_modules/bresenham/index.js ***!
  \*****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e,t,n,i,o){if(!o){var r=[];o=function(e,t){r.push({x:e,y:t})}}var s=n-e,a=i-t,l=Math.abs(s),c=Math.abs(a),u=0,h=s>0?1:-1,f=a>0?1:-1;if(l>c)for(var d=e,p=t;h<0?d>=n:d<=n;d+=h)o(d,p),(u+=c)<<1>=l&&(p+=f,u-=l);else for(d=e,p=t;f<0?p>=i:p<=i;p+=f)o(d,p),(u+=l)<<1>=c&&(d+=h,u-=c);return r}},
/*!******************************************!*\
  !*** ./node_modules/keyboardjs/index.js ***!
  \******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=n(/*! ./lib/keyboard */58),o=n(/*! ./lib/locale */18),r=n(/*! ./lib/key-combo */15),s=new i;s.setLocale("us",n(/*! ./locales/us */60)),(t=e.exports=s).Keyboard=i,t.Locale=o,t.KeyCombo=r},
/*!***************************!*\
  !*** multi ./src/main.js ***!
  \***************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){e.exports=n(/*! ./src/main.js */63)},
/*!**********************!*\
  !*** ./src/main.css ***!
  \**********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){},
/*!*****************************************!*\
  !*** ./src/components/layout/style.css ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,
/*!*****************************************!*\
  !*** ./src/components/layout/style.css ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){},
/*!*****************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js ***!
  \*****************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,
/*!*****************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js ***!
  \*****************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}},
/*!*******************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=i=function(e){return n(e)}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i(t)}e.exports=i},
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},
/*!*******************************************!*\
  !*** ./node_modules/invariant/browser.js ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,
/*!*******************************************!*\
  !*** ./node_modules/invariant/browser.js ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";e.exports=function(e,t,n,i,o,r,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,r,s,a],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},
/*!***********************************************!*\
  !*** ./src/components/top-controls/style.css ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){},
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/iterableToArray.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/nonIterableSpread.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},
/*!***********************************************!*\
  !*** ./src/components/context-menu/style.css ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){},
/*!***************************************************!*\
  !*** ./src/components/project-explorer/style.css ***!
  \***************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,
/*!***************************************************!*\
  !*** ./src/components/project-explorer/style.css ***!
  \***************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){},
/*!*****************************************!*\
  !*** ./src/components/layers/style.css ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,
/*!*****************************************!*\
  !*** ./src/components/layers/style.css ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){},
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayWithHoles.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayWithHoles.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},
/*!*********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}},
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/nonIterableRest.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},
/*!******************************************!*\
  !*** ./src/components/tileset/style.css ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){},
/*!**************************************************!*\
  !*** ./src/components/bottom-controls/style.css ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,
/*!**************************************************!*\
  !*** ./src/components/bottom-controls/style.css ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){},
/*!************************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime-module.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */,
/*!************************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime-module.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var i=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,r=o&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(/*! ./runtime */53),o)i.regeneratorRuntime=r;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}},
/*!*****************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){!function(t){"use strict";var n,i=Object.prototype,o=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=_;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={},y={};y[s]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(A([])));g&&g!==i&&o.call(g,s)&&(y=g);var b=x.prototype=k.prototype=Object.create(y);C.prototype=b.constructor=x,x.constructor=C,x[l]=C.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(b),e},u.awrap=function(e){return{__await:e}},E(K.prototype),K.prototype[a]=function(){return this},u.AsyncIterator=K,u.async=function(e,t,n,i){var o=new K(_(e,t,n,i));return u.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},E(b),b[l]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},u.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,o){return a.type="throw",a.arg=e,t.next=i,o&&(t.method="next",t.arg=n),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:A(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=n),v}}}function _(e,t,n,i){var o=t&&t.prototype instanceof k?t:k,r=Object.create(o.prototype),s=new P(i||[]);return r._invoke=function(e,t,n){var i=h;return function(o,r){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw r;return N()}for(n.method=o,n.arg=r;;){var s=n.delegate;if(s){var a=M(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var l=w(e,t,n);if("normal"===l.type){if(i=n.done?p:f,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}(e,n,s),r}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function C(){}function x(){}function E(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function K(e){var t;this._invoke=function(n,i){function r(){return new Promise(function(t,r){!function t(n,i,r,s){var a=w(e[n],e,i);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,r,s)},function(e){t("throw",e,r,s)}):Promise.resolve(c).then(function(e){l.value=e,r(l)},function(e){return t("throw",e,r,s)})}s(a.arg)}(n,i,t,r)})}return t=t?t.then(r,r):r()}}function M(e,t){var i=e.iterator[t.method];if(i===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,M(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=w(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(o.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},
/*!********************************************************!*\
  !*** ./node_modules/fast-array-diff/dist/diff/same.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var i=n(/*! ./lcs */14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){void 0===n&&(n=function(e,t){return e===t});var o=[];return i.default(e,t,n,function(e,t,n,i){if("same"===e)for(var r=n;r<i;++r)o.push(t[r])}),o}},
/*!********************************************************!*\
  !*** ./node_modules/fast-array-diff/dist/diff/diff.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var i=n(/*! ./lcs */14);t.diff=function(e,t,n){void 0===n&&(n=function(e,t){return e===t});var o={removed:[],added:[]};return i.default(e,t,n,function(e,t,n,i,r,s,a){if("add"===e)for(var l=s;l<a;++l)o.added.push(r[l]);else if("remove"===e)for(l=n;l<i;++l)o.removed.push(t[l])}),o}},
/*!*********************************************************!*\
  !*** ./node_modules/fast-array-diff/dist/diff/patch.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var i=n(/*! ./lcs */14);t.getPatch=function(e,t,n){void 0===n&&(n=function(e,t){return e===t});var o=[],r=null,s=null;function a(e,t,n,i,a,l,c){if("same"===e)s&&o.push(s),r&&o.push(r),s=null,r=null;else if("remove"===e){s||(s={type:"remove",oldPos:n,newPos:l,items:[]});for(var u=n;u<i;++u)s.items.push(t[u]);r&&(r.oldPos+=i-n,s.oldPos===n&&(s.newPos-=i-n))}else if("add"===e)for(r||(r={type:"add",oldPos:n,newPos:l,items:[]}),u=l;u<c;++u)r.items.push(a[u])}return i.default(e,t,n,a),a("same",[],0,0,[],0,0),o}},
/*!*********************************************************!*\
  !*** ./node_modules/fast-array-diff/dist/diff/apply.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.applyPatch=function(e,t){for(var n=[],i=0,o=0;o<t.length;++o){var r=t[o];i!==r.oldPos&&n.push(e.slice(i,r.oldPos)),"add"===r.type?(n.push(r.items),i=r.oldPos):i=r.items?r.oldPos+r.items.length:r.oldPos+r.length}return i!==e.length&&n.push(e.slice(i)),[].concat.apply([],n)}},
/*!*************************************************!*\
  !*** ./node_modules/keyboardjs/lib/keyboard.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){(function(t){var i=n(/*! ./locale */18),o=n(/*! ./key-combo */15);function r(e,t,n,i){this._locale=null,this._currentContext=null,this._contexts={},this._listeners=[],this._appliedListeners=[],this._locales={},this._targetElement=null,this._targetWindow=null,this._targetPlatform="",this._targetUserAgent="",this._isModernBrowser=!1,this._targetKeyDownBinding=null,this._targetKeyUpBinding=null,this._targetResetBinding=null,this._paused=!1,this._callerHandler=null,this.setContext("global"),this.watch(e,t,n,i)}r.prototype.setLocale=function(e,t){var n=null;"string"==typeof e?t?t(n=new i(e),this._targetPlatform,this._targetUserAgent):n=this._locales[e]||null:e=(n=e)._localeName,this._locale=n,this._locales[e]=n,n&&(this._locale.pressedKeys=n.pressedKeys)},r.prototype.getLocale=function(e){return e||(e=this._locale.localeName),this._locales[e]||null},r.prototype.bind=function(e,t,n,i){if(null!==e&&"function"!=typeof e||(i=n,n=t,t=e,e=null),e&&"object"==typeof e&&"number"==typeof e.length)for(var r=0;r<e.length;r+=1)this.bind(e[r],t,n);else this._listeners.push({keyCombo:e?new o(e):null,pressHandler:t||null,releaseHandler:n||null,preventRepeat:i||!1,preventRepeatByDefault:i||!1})},r.prototype.addListener=r.prototype.bind,r.prototype.on=r.prototype.bind,r.prototype.unbind=function(e,t,n){if(null!==e&&"function"!=typeof e||(n=t,t=e,e=null),e&&"object"==typeof e&&"number"==typeof e.length)for(var i=0;i<e.length;i+=1)this.unbind(e[i],t,n);else for(i=0;i<this._listeners.length;i+=1){var o=this._listeners[i],r=!e&&!o.keyCombo||o.keyCombo&&o.keyCombo.isEqual(e),s=!t&&!n||!t&&!o.pressHandler||t===o.pressHandler,a=!t&&!n||!n&&!o.releaseHandler||n===o.releaseHandler;r&&s&&a&&(this._listeners.splice(i,1),i-=1)}},r.prototype.removeListener=r.prototype.unbind,r.prototype.off=r.prototype.unbind,r.prototype.setContext=function(e){this._locale&&this.releaseAllKeys(),this._contexts[e]||(this._contexts[e]=[]),this._listeners=this._contexts[e],this._currentContext=e},r.prototype.getContext=function(){return this._currentContext},r.prototype.withContext=function(e,t){var n=this.getContext();this.setContext(e),t(),this.setContext(n)},r.prototype.watch=function(e,n,i,o){var r=this;if(this.stop(),!e){if(!t.addEventListener&&!t.attachEvent)throw new Error("Cannot find global functions addEventListener or attachEvent.");e=t}if("number"==typeof e.nodeType&&(o=i,i=n,n=e,e=t),!e.addEventListener&&!e.attachEvent)throw new Error("Cannot find addEventListener or attachEvent methods on targetWindow.");this._isModernBrowser=!!e.addEventListener;var s=e.navigator&&e.navigator.userAgent||"",a=e.navigator&&e.navigator.platform||"";n&&null!==n||(n=e.document),i&&null!==i||(i=a),o&&null!==o||(o=s),this._targetKeyDownBinding=function(e){r.pressKey(e.keyCode,e),r._handleCommandBug(e,a)},this._targetKeyUpBinding=function(e){r.releaseKey(e.keyCode,e)},this._targetResetBinding=function(e){r.releaseAllKeys(e)},this._bindEvent(n,"keydown",this._targetKeyDownBinding),this._bindEvent(n,"keyup",this._targetKeyUpBinding),this._bindEvent(e,"focus",this._targetResetBinding),this._bindEvent(e,"blur",this._targetResetBinding),this._targetElement=n,this._targetWindow=e,this._targetPlatform=i,this._targetUserAgent=o},r.prototype.stop=function(){this._targetElement&&this._targetWindow&&(this._unbindEvent(this._targetElement,"keydown",this._targetKeyDownBinding),this._unbindEvent(this._targetElement,"keyup",this._targetKeyUpBinding),this._unbindEvent(this._targetWindow,"focus",this._targetResetBinding),this._unbindEvent(this._targetWindow,"blur",this._targetResetBinding),this._targetWindow=null,this._targetElement=null)},r.prototype.pressKey=function(e,t){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.pressKey(e),this._applyBindings(t)}},r.prototype.releaseKey=function(e,t){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.releaseKey(e),this._clearBindings(t)}},r.prototype.releaseAllKeys=function(e){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.pressedKeys.length=0,this._clearBindings(e)}},r.prototype.pause=function(){this._paused||(this._locale&&this.releaseAllKeys(),this._paused=!0)},r.prototype.resume=function(){this._paused=!1},r.prototype.reset=function(){this.releaseAllKeys(),this._listeners.length=0},r.prototype._bindEvent=function(e,t,n){return this._isModernBrowser?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},r.prototype._unbindEvent=function(e,t,n){return this._isModernBrowser?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},r.prototype._getGroupedListeners=function(){var e=[],t=[],n=this._listeners;return"global"!==this._currentContext&&(n=[].concat(n,this._contexts.global)),n.sort(function(e,t){return(t.keyCombo?t.keyCombo.keyNames.length:0)-(e.keyCombo?e.keyCombo.keyNames.length:0)}).forEach(function(n){for(var i=-1,o=0;o<t.length;o+=1)(null===t[o]&&null===n.keyCombo||null!==t[o]&&t[o].isEqual(n.keyCombo))&&(i=o);-1===i&&(i=t.length,t.push(n.keyCombo)),e[i]||(e[i]=[]),e[i].push(n)}),e},r.prototype._applyBindings=function(e){var t=!1;e||(e={}),e.preventRepeat=function(){t=!0},e.pressedKeys=this._locale.pressedKeys.slice(0);for(var n=this._locale.pressedKeys.slice(0),i=this._getGroupedListeners(),r=0;r<i.length;r+=1){var s=i[r],a=s[0].keyCombo;if(null===a||a.check(n)){for(var l=0;l<s.length;l+=1){var c=s[l];null===a&&(c={keyCombo:new o(n.join("+")),pressHandler:c.pressHandler,releaseHandler:c.releaseHandler,preventRepeat:c.preventRepeat,preventRepeatByDefault:c.preventRepeatByDefault}),c.pressHandler&&!c.preventRepeat&&(c.pressHandler.call(this,e),t&&(c.preventRepeat=t,t=!1)),c.releaseHandler&&-1===this._appliedListeners.indexOf(c)&&this._appliedListeners.push(c)}if(a)for(l=0;l<a.keyNames.length;l+=1){var u=n.indexOf(a.keyNames[l]);-1!==u&&(n.splice(u,1),l-=1)}}}},r.prototype._clearBindings=function(e){e||(e={});for(var t=0;t<this._appliedListeners.length;t+=1){var n=this._appliedListeners[t],i=n.keyCombo;if(null===i||!i.check(this._locale.pressedKeys)){if(this._callerHandler!==n.releaseHandler){var o=this._callerHandler;this._callerHandler=n.releaseHandler,n.preventRepeat=n.preventRepeatByDefault,n.releaseHandler.call(this,e),this._callerHandler=o}this._appliedListeners.splice(t,1),t-=1}}},r.prototype._handleCommandBug=function(e,t){t.match("Mac")&&this._locale.pressedKeys.includes("command")&&!["shift","ctrl","alt","capslock","tab","command"].includes(this._locale.getKeyNames(e.keyCode)[0])&&this._targetKeyUpBinding(e)},e.exports=r}).call(this,n(/*! ./../../../../pixel-engine-cli/node_modules/webpack/buildin/global.js */59))},
/*!******************************************************************!*\
  !*** ../pixel-engine-cli/node_modules/webpack/buildin/global.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},
/*!***********************************************!*\
  !*** ./node_modules/keyboardjs/locales/us.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e,t,n){e.bindKeyCode(3,["cancel"]),e.bindKeyCode(8,["backspace"]),e.bindKeyCode(9,["tab"]),e.bindKeyCode(12,["clear"]),e.bindKeyCode(13,["enter"]),e.bindKeyCode(16,["shift"]),e.bindKeyCode(17,["ctrl"]),e.bindKeyCode(18,["alt","menu"]),e.bindKeyCode(19,["pause","break"]),e.bindKeyCode(20,["capslock"]),e.bindKeyCode(27,["escape","esc"]),e.bindKeyCode(32,["space","spacebar"]),e.bindKeyCode(33,["pageup"]),e.bindKeyCode(34,["pagedown"]),e.bindKeyCode(35,["end"]),e.bindKeyCode(36,["home"]),e.bindKeyCode(37,["left"]),e.bindKeyCode(38,["up"]),e.bindKeyCode(39,["right"]),e.bindKeyCode(40,["down"]),e.bindKeyCode(41,["select"]),e.bindKeyCode(42,["printscreen"]),e.bindKeyCode(43,["execute"]),e.bindKeyCode(44,["snapshot"]),e.bindKeyCode(45,["insert","ins"]),e.bindKeyCode(46,["delete","del"]),e.bindKeyCode(47,["help"]),e.bindKeyCode(145,["scrolllock","scroll"]),e.bindKeyCode(187,["equal","equalsign","="]),e.bindKeyCode(188,["comma",","]),e.bindKeyCode(190,["period","."]),e.bindKeyCode(191,["slash","forwardslash","/"]),e.bindKeyCode(192,["graveaccent","`"]),e.bindKeyCode(219,["openbracket","["]),e.bindKeyCode(220,["backslash","\\"]),e.bindKeyCode(221,["closebracket","]"]),e.bindKeyCode(222,["apostrophe","'"]),e.bindKeyCode(48,["zero","0"]),e.bindKeyCode(49,["one","1"]),e.bindKeyCode(50,["two","2"]),e.bindKeyCode(51,["three","3"]),e.bindKeyCode(52,["four","4"]),e.bindKeyCode(53,["five","5"]),e.bindKeyCode(54,["six","6"]),e.bindKeyCode(55,["seven","7"]),e.bindKeyCode(56,["eight","8"]),e.bindKeyCode(57,["nine","9"]),e.bindKeyCode(96,["numzero","num0"]),e.bindKeyCode(97,["numone","num1"]),e.bindKeyCode(98,["numtwo","num2"]),e.bindKeyCode(99,["numthree","num3"]),e.bindKeyCode(100,["numfour","num4"]),e.bindKeyCode(101,["numfive","num5"]),e.bindKeyCode(102,["numsix","num6"]),e.bindKeyCode(103,["numseven","num7"]),e.bindKeyCode(104,["numeight","num8"]),e.bindKeyCode(105,["numnine","num9"]),e.bindKeyCode(106,["nummultiply","num*"]),e.bindKeyCode(107,["numadd","num+"]),e.bindKeyCode(108,["numenter"]),e.bindKeyCode(109,["numsubtract","num-"]),e.bindKeyCode(110,["numdecimal","num."]),e.bindKeyCode(111,["numdivide","num/"]),e.bindKeyCode(144,["numlock","num"]),e.bindKeyCode(112,["f1"]),e.bindKeyCode(113,["f2"]),e.bindKeyCode(114,["f3"]),e.bindKeyCode(115,["f4"]),e.bindKeyCode(116,["f5"]),e.bindKeyCode(117,["f6"]),e.bindKeyCode(118,["f7"]),e.bindKeyCode(119,["f8"]),e.bindKeyCode(120,["f9"]),e.bindKeyCode(121,["f10"]),e.bindKeyCode(122,["f11"]),e.bindKeyCode(123,["f12"]),e.bindMacro("shift + `",["tilde","~"]),e.bindMacro("shift + 1",["exclamation","exclamationpoint","!"]),e.bindMacro("shift + 2",["at","@"]),e.bindMacro("shift + 3",["number","#"]),e.bindMacro("shift + 4",["dollar","dollars","dollarsign","$"]),e.bindMacro("shift + 5",["percent","%"]),e.bindMacro("shift + 6",["caret","^"]),e.bindMacro("shift + 7",["ampersand","and","&"]),e.bindMacro("shift + 8",["asterisk","*"]),e.bindMacro("shift + 9",["openparen","("]),e.bindMacro("shift + 0",["closeparen",")"]),e.bindMacro("shift + -",["underscore","_"]),e.bindMacro("shift + =",["plus","+"]),e.bindMacro("shift + [",["opencurlybrace","opencurlybracket","{"]),e.bindMacro("shift + ]",["closecurlybrace","closecurlybracket","}"]),e.bindMacro("shift + \\",["verticalbar","|"]),e.bindMacro("shift + ;",["colon",":"]),e.bindMacro("shift + '",["quotationmark","'"]),e.bindMacro("shift + !,",["openanglebracket","<"]),e.bindMacro("shift + .",["closeanglebracket",">"]),e.bindMacro("shift + /",["questionmark","?"]),t.match("Mac")?e.bindMacro("command",["mod","modifier"]):e.bindMacro("ctrl",["mod","modifier"]);for(var i=65;i<=90;i+=1){var o=String.fromCharCode(i+32),r=String.fromCharCode(i);e.bindKeyCode(i,o),e.bindMacro("shift + "+o,r),e.bindMacro("capslock + "+o,r)}var s,a,l=n.match("Firefox")?59:186,c=n.match("Firefox")?173:189;t.match("Mac")&&(n.match("Safari")||n.match("Chrome"))?(s=91,a=93):t.match("Mac")&&n.match("Opera")?(s=17,a=17):t.match("Mac")&&n.match("Firefox")&&(s=224,a=224),e.bindKeyCode(l,["semicolon",";"]),e.bindKeyCode(c,["dash","-"]),e.bindKeyCode(s,["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"]),e.bindKeyCode(a,["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"]),e.setKillKey("command")}},
/*!***************************!*\
  !*** ./src/app/style.css ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){},
/*!**********************************!*\
  !*** ./src/main.js + 62 modules ***!
  \**********************************/
/*! no exports provided */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/assertThisInitialized.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/asyncToGenerator.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/classCallCheck.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/createClass.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/getPrototypeOf.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/inherits.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/objectDestructuringEmpty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/objectSpread.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/objectWithoutProperties.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/slicedToArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/toConsumableArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/regenerator/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/bresenham/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/fast-array-diff/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/immutability-helper/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/keyboardjs/index.js (<- Module is not an ECMAScript module) */,
/*!**********************************!*\
  !*** ./src/main.js + 62 modules ***!
  \**********************************/
/*! no exports provided */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/assertThisInitialized.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/asyncToGenerator.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/classCallCheck.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/createClass.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/getPrototypeOf.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/inherits.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/objectDestructuringEmpty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/objectSpread.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/objectWithoutProperties.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/slicedToArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/helpers/toConsumableArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@babel/runtime/regenerator/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/bresenham/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/fast-array-diff/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/immutability-helper/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/keyboardjs/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);n(25);var i=function(){},o={},r=[],s=[];function a(e,t){var n,a,l,c,u=s;for(c=arguments.length;c-- >2;)r.push(arguments[c]);for(t&&null!=t.children&&(r.length||r.push(t.children),delete t.children);r.length;)if((a=r.pop())&&void 0!==a.pop)for(c=a.length;c--;)r.push(a[c]);else"boolean"==typeof a&&(a=null),(l="function"!=typeof e)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(l=!1)),l&&n?u[u.length-1]+=a:u===s?u=[a]:u.push(a),n=l;var h=new i;return h.nodeName=e,h.children=u,h.attributes=null==t?void 0:t,h.key=null==t?void 0:t.key,void 0!==o.vnode&&o.vnode(h),h}function l(e,t){for(var n in t)e[n]=t[n];return e}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var u=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,h=[];function f(e){!e._dirty&&(e._dirty=!0)&&1==h.push(e)&&(o.debounceRendering||c)(d)}function d(){var e,t=h;for(h=[];e=t.pop();)e._dirty&&O(e)}function p(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&v(e,t.nodeName):n||e._componentConstructor===t.nodeName}function v(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function y(e){var t=l({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);return t}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n,i,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),i&&i(e);else if("class"!==t||o)if("style"===t){if(i&&"string"!=typeof i&&"string"!=typeof n||(e.style.cssText=i||""),i&&"object"==typeof i){if("string"!=typeof n)for(var r in n)r in i||(e.style[r]="");for(var r in i)e.style[r]="number"==typeof i[r]&&!1===u.test(r)?i[r]+"px":i[r]}}else if("dangerouslySetInnerHTML"===t)i&&(e.innerHTML=i.__html||"");else if("o"==t[0]&&"n"==t[1]){var s=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),i?n||e.addEventListener(t,b,s):e.removeEventListener(t,b,s),(e._listeners||(e._listeners={}))[t]=i}else if("list"!==t&&"type"!==t&&!o&&t in e){try{e[t]=null==i?"":i}catch(e){}null!=i&&!1!==i||"spellcheck"==t||e.removeAttribute(t)}else{var a=o&&t!==(t=t.replace(/^xlink:?/,""));null==i||!1===i?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof i&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):e.setAttribute(t,i))}else e.className=i||""}function b(e){return this._listeners[e.type](o.event&&o.event(e)||e)}var _=[],w=0,k=!1,C=!1;function x(){for(var e;e=_.pop();)o.afterMount&&o.afterMount(e),e.componentDidMount&&e.componentDidMount()}function E(e,t,n,i,o,r){w++||(k=null!=o&&void 0!==o.ownerSVGElement,C=null!=e&&!("__preactattr_"in e));var s=K(e,t,n,i,r);return o&&s.parentNode!==o&&o.appendChild(s),--w||(C=!1,r||x()),s}function K(e,t,n,i,o){var r=e,s=k;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(r=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(r,e),M(e,!0))),r.__preactattr_=!0,r;var a=t.nodeName;if("function"==typeof a)return function(e,t,n,i){var o=e&&e._component,r=o,s=e,a=o&&e._componentConstructor===t.nodeName,l=a,c=y(t);for(;o&&!l&&(o=o._parentComponent);)l=o.constructor===t.nodeName;o&&l&&(!i||o._component)?(N(o,c,3,n,i),e=o.base):(r&&!a&&(T(r),e=s=null),o=P(t.nodeName,c,n),e&&!o.nextBase&&(o.nextBase=e,s=null),N(o,c,1,n,i),e=o.base,s&&e!==s&&(s._component=null,M(s,!1)));return e}(e,t,n,i);if(k="svg"===a||"foreignObject"!==a&&k,a=String(a),(!e||!v(e,a))&&(r=function(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}(a,k),e)){for(;e.firstChild;)r.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(r,e),M(e,!0)}var l=r.firstChild,c=r.__preactattr_,u=t.children;if(null==c){c=r.__preactattr_={};for(var h=r.attributes,f=h.length;f--;)c[h[f].name]=h[f].value}return!C&&u&&1===u.length&&"string"==typeof u[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=u[0]&&(l.nodeValue=u[0]):(u&&u.length||null!=l)&&function(e,t,n,i,o){var r,s,a,l,c,u=e.childNodes,h=[],f={},d=0,v=0,y=u.length,g=0,b=t?t.length:0;if(0!==y)for(var _=0;_<y;_++){var w=u[_],k=w.__preactattr_,C=b&&k?w._component?w._component.__key:k.key:null;null!=C?(d++,f[C]=w):(k||(void 0!==w.splitText?!o||w.nodeValue.trim():o))&&(h[g++]=w)}if(0!==b)for(var _=0;_<b;_++){l=t[_],c=null;var C=l.key;if(null!=C)d&&void 0!==f[C]&&(c=f[C],f[C]=void 0,d--);else if(v<g)for(r=v;r<g;r++)if(void 0!==h[r]&&p(s=h[r],l,o)){c=s,h[r]=void 0,r===g-1&&g--,r===v&&v++;break}c=K(c,l,n,i),a=u[_],c&&c!==e&&c!==a&&(null==a?e.appendChild(c):c===a.nextSibling?m(a):e.insertBefore(c,a))}if(d)for(var _ in f)void 0!==f[_]&&M(f[_],!1);for(;v<=g;)void 0!==(c=h[g--])&&M(c,!1)}(r,u,n,i,C||null!=c.dangerouslySetInnerHTML),function(e,t,n){var i;for(i in n)t&&null!=t[i]||null==n[i]||g(e,i,n[i],n[i]=void 0,k);for(i in t)"children"===i||"innerHTML"===i||i in n&&t[i]===("value"===i||"checked"===i?e[i]:n[i])||g(e,i,n[i],n[i]=t[i],k)}(r,t.attributes,c),k=s,r}function M(e,t){var n=e._component;n?T(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||m(e),L(e))}function L(e){for(e=e.lastChild;e;){var t=e.previousSibling;M(e,!0),e=t}}var S=[];function P(e,t,n){var i,o=S.length;for(e.prototype&&e.prototype.render?(i=new e(t,n),D.call(i,t,n)):((i=new D(t,n)).constructor=e,i.render=A);o--;)if(S[o].constructor===e)return i.nextBase=S[o].nextBase,S.splice(o,1),i;return i}function A(e,t,n){return this.constructor(e,n)}function N(e,t,n,i,r){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,i)),i&&i!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=i),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&e.base?f(e):O(e,1,r)),e.__ref&&e.__ref(e))}function O(e,t,n,i){if(!e._disable){var r,s,a,c=e.props,u=e.state,h=e.context,f=e.prevProps||c,d=e.prevState||u,p=e.prevContext||h,v=e.base,m=e.nextBase,g=v||m,b=e._component,k=!1,C=p;if(e.constructor.getDerivedStateFromProps&&(u=l(l({},u),e.constructor.getDerivedStateFromProps(c,u)),e.state=u),v&&(e.props=f,e.state=d,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,u,h)?k=!0:e.componentWillUpdate&&e.componentWillUpdate(c,u,h),e.props=c,e.state=u,e.context=h),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!k){r=e.render(c,u,h),e.getChildContext&&(h=l(l({},h),e.getChildContext())),v&&e.getSnapshotBeforeUpdate&&(C=e.getSnapshotBeforeUpdate(f,d));var K,L,S=r&&r.nodeName;if("function"==typeof S){var A=y(r);(s=b)&&s.constructor===S&&A.key==s.__key?N(s,A,1,h,!1):(K=s,e._component=s=P(S,A,h),s.nextBase=s.nextBase||m,s._parentComponent=e,N(s,A,0,h,!1),O(s,1,n,!0)),L=s.base}else a=g,(K=b)&&(a=e._component=null),(g||1===t)&&(a&&(a._component=null),L=E(a,r,h,n||!v,g&&g.parentNode,!0));if(g&&L!==g&&s!==b){var D=g.parentNode;D&&L!==D&&(D.replaceChild(L,g),K||(g._component=null,M(g,!1)))}if(K&&T(K),e.base=L,L&&!i){for(var j=e,B=e;B=B._parentComponent;)(j=B).base=L;L._component=j,L._componentConstructor=j.constructor}}for(!v||n?_.unshift(e):k||(e.componentDidUpdate&&e.componentDidUpdate(f,d,C),o.afterUpdate&&o.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);w||i||x()}}function T(e){o.beforeUnmount&&o.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?T(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,m(t),S.push(e),L(t)),e.__ref&&e.__ref(null)}function D(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function j(e,t,n){return E(n,e,{},!1,t,!1)}l(D.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=l(l({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),f(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),O(this,2)},render:function(){}});n(27);var B=function(e){var t=e.children,n=e.theme;return a("div",{className:"layout ".concat(n)},t)},R=n(19),z=n.n(R),H=n(20),W=n.n(H),U=function(e){var t=e.children,n=e.component,i=void 0===n?"div":n,o=W()(e,["children","component"]);return a(i,z()({className:"layout__content"},o),t)},Y=function(e){return a("div",{className:"layout__center"},e.children)},$=n(1),F=n.n($),I=n(2),q=n.n(I),G=n(4),V=n.n(G),Z=n(5),X=n.n(Z),J=n(6),Q=n.n(J),ee=(n(16),function(e){return a("div",{className:"panel-container"},e.children)}),te=function(e){function t(){return F()(this,t),V()(this,X()(t).apply(this,arguments))}return Q()(t,e),q()(t,[{key:"render",value:function(e){var t=e.children;return a("div",{className:"layout__left-menu"},a(ee,null,t))}}]),t}(D),ne=function(e){var t=e.children;return a("div",{className:"layout__right-menu"},a(ee,null,t))},ie=n(3),oe=n.n(ie),re=function(e){function t(){return F()(this,t),V()(this,X()(t).apply(this,arguments))}return Q()(t,e),q()(t,[{key:"render",value:function(e){return a("div",{className:"layout__top-menu"},e.children)}}]),t}(D);oe()(re,"Divider",function(){return a("div",{className:"layout__top-menu__divider"})});var se=re,ae=function(e){function t(){return F()(this,t),V()(this,X()(t).apply(this,arguments))}return Q()(t,e),q()(t,[{key:"render",value:function(e){return a("div",{className:"layout__bottom-menu"},e.children)}}]),t}(D);B.Content=U,B.Center=Y,B.LeftMenu=te,B.RightMenu=ne,B.TopMenu=se,B.BottomMenu=ae;var le=B,ce=n(0),ue=n.n(ce),he=n(11),fe=n.n(he),de=function(e){var t=e.controls,n=e.onClick;return a("div",{className:"control-group"},t.map(function(e){return a("a",{className:fe()("control",e.active&&"is-active",e.selected&&"is-selected"),key:e.name,href:"",title:e.tooltip,onClick:function(e,t){return function(n){n.preventDefault(),t&&e.active&&t(e)}}(e,n)},a("i",{className:"fas fa-".concat(e.icon)}))}))},pe=function(e){function t(){var e,n;F()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=V()(this,(e=X()(t)).call.apply(e,[this].concat(o))),oe()(ue()(ue()(n)),"controls",[{name:"explore",icon:"folder"},{name:"save",icon:"save"}]),n}return Q()(t,e),q()(t,[{key:"render",value:function(){return a(de,{controls:this.controls})}}]),t}(D),ve=n(9),ye=n.n(ve),me=n(8),ge=n.n(me),be=function(e){function t(){var e,n;F()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=V()(this,(e=X()(t)).call.apply(e,[this].concat(o))),oe()(ue()(ue()(n)),"state",{controls:[{name:"cut",icon:"cut",tooltip:"(x)"},{name:"copy",icon:"copy",tooltip:"(c)"},{name:"paste",icon:"paste",tooltip:"(p)"}],active:{cut:!1,copy:!1,paste:!1},clipboard:[],selection:!1}),oe()(ue()(ue()(n)),"onControlClick",function(e){"paste"===e.name?(n.props.channel.dispatch("@tools:selection:set",n.state.clipboard),n.props.channel.dispatch("@tools:set","pencil")):n.props.channel.dispatch("@control:edit:".concat(e.name))}),oe()(ue()(ue()(n)),"onTool",function(e){var t="area"===e&&n.state.selection;n.setState({active:ge()(n.state.active,{cut:{$set:t},copy:{$set:t}})})}),oe()(ue()(ue()(n)),"onSelection",function(e){n.setState({selection:e,active:ge()(n.state.active,{cut:{$set:e},copy:{$set:e}})})}),oe()(ue()(ue()(n)),"onClipBoard",function(e){n.setState({clipboard:e,active:ge()(n.state.active,{paste:{$set:e.length}})})}),n}return Q()(t,e),q()(t,[{key:"componentDidMount",value:function(){this.props.channel.on("@control:edit:selection:set",this.onSelection),this.props.channel.on("@control:edit:clipboard:set",this.onClipBoard),this.props.channel.on("@tools:set",this.onTool)}},{key:"componentWillUnmount",value:function(){this.props.channel.off("@control:edit:selection:set",this.onSelection),this.props.channel.off("@control:edit:clipboard:set",this.onClipBoard),this.props.channel.off("@tools:set",this.onTool)}},{key:"render",value:function(e,t){ye()(e);var n=t.controls,i=t.active;return a(de,{controls:n.map(function(e){return ge()(e,{active:{$set:i[e.name]}})}),onClick:this.onControlClick})}}]),t}(D),_e=function(e){function t(){var e,n;F()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=V()(this,(e=X()(t)).call.apply(e,[this].concat(o))),oe()(ue()(ue()(n)),"state",{controls:[{name:"undo",icon:"arrow-left",tooltip:"(u)"},{name:"redo",icon:"arrow-right",tooltip:"(r)"}],active:{undo:!1,redo:!1}}),oe()(ue()(ue()(n)),"onControlClick",function(e){switch(e.name){case"undo":n.props.channel.dispatch("@control:history:undo","undo");break;case"redo":n.props.channel.dispatch("@control:history:redo","redo")}}),oe()(ue()(ue()(n)),"onHistoryChange",function(e){n.setState({active:ge()(n.state.active,{undo:{$set:e.undo},redo:{$set:e.redo}})})}),n}return Q()(t,e),q()(t,[{key:"componentDidMount",value:function(){this.props.channel.on("@control:history:change",this.onHistoryChange)}},{key:"componentWillUnmount",value:function(){this.props.channel.on("@control:history:change",this.onHistoryChange)}},{key:"render",value:function(e,t){ye()(e);var n=t.controls,i=t.active;return a(de,{controls:n.map(function(e){return ge()(e,{active:{$set:i[e.name]}})}),onClick:this.onControlClick})}}]),t}(D),we=function(e){function t(){var e,n;F()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=V()(this,(e=X()(t)).call.apply(e,[this].concat(o))),oe()(ue()(ue()(n)),"state",{tools:[]}),oe()(ue()(ue()(n)),"onTools",function(e){n.setState({tools:e})}),oe()(ue()(ue()(n)),"onToolClick",function(e){n.props.channel.dispatch("@tools:set",e.name)}),n}return Q()(t,e),q()(t,[{key:"componentDidMount",value:function(){this.props.channel.on("@tools:change",this.onTools)}},{key:"componentWillUnmount",value:function(){this.props.channel.off("@tools:change",this.onTools)}},{key:"render",value:function(e,t){var n=t.tools;return a(de,{controls:n,onClick:this.onToolClick})}}]),t}(D),ke=(n(34),function(e){function t(){return F()(this,t),V()(this,X()(t).apply(this,arguments))}return Q()(t,e),q()(t,[{key:"render",value:function(e){var t=e.channel;return a("div",{className:"top-control"},a(pe,{channel:t}),a("span",{className:"top-control__divider"}),a(be,{channel:t}),a("span",{className:"top-control__divider"}),a(_e,{channel:t}),a("span",{className:"top-control__divider"}),a(we,{channel:t}))}}]),t}(D)),Ce={get:function(e){var t=Array.isArray(e)?e:[];return{open:function(e){return e.reduce(function(e,t){return"folder"===t.type&&(e[t.path]=!0),e},{})}(t),paths:function(e){return e.reduce(function(e,t){return e[t.path]=t,e},{})}(t),children:function(e){return e.reduce(function(e,t){var n=t.parent||"_root";return e[n]||(e[n]=[]),e[n].push(t.path),e},{})}(t)}},root:function(e){var t=e.children["."];return Array.isArray(t)?t.map(function(t){return e.paths[t]}):[]},node:function(e,t){var n=t.path;return e.paths[n]},open:function(e,t){var n=t.path;return e.open[n]||!1},children:function(e,t){var n=t.path,i=e.children[n];return Array.isArray(i)?i.map(function(t){return e.paths[t]}):[]},_icons:{folder:function(e){return e?"folder-open":"folder"},map:function(){return"map"},tileset:function(){return"image"},default:function(){return"image"}},icon:function(e,t){var n=t.type,i=t.path,o=this._icons[n]||this._icons.default;return o(e.open[i]||!1)}},xe=n(21),Ee=n.n(xe),Ke=(n(39),function(e){function t(){var e,n;F()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=V()(this,(e=X()(t)).call.apply(e,[this].concat(o))),oe()(ue()(ue()(n)),"state",{showMenu:!1,x:0,y:0}),oe()(ue()(ue()(n)),"getPosition",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i={top:t,left:e};if(!n.menu)return i;var o=window,r=o.innerWidth,s=o.innerHeight,a=n.menu.getBoundingClientRect();return t+a.height>s&&(i.top-=a.height),e+a.width>r&&(i.left-=a.width),i.top<0&&(i.top=a.height<s?(s-a.height)/2:0),i.left<0&&(i.left=a.width<r?(r-a.width)/2:0),i}),oe()(ue()(ue()(n)),"onClick",function(e){return function(t){var i=n.props.onClick;if(t.preventDefault(),i){var o=i.apply(void 0,[e].concat(Ee()(n.state.args)));o&&o.then?o.then(function(){return n.onClose()}):n.onClose()}}}),oe()(ue()(ue()(n)),"onOpen",function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){e.preventDefault(),e.stopPropagation(),n.setState({showMenu:!0,args:t,x:e.clientX,y:e.clientY}),n.bindEvents()}}),oe()(ue()(ue()(n)),"onClose",function(){n.state.showMenu&&(n.unbindEvents(),n.setState({showMenu:!1}))}),oe()(ue()(ue()(n)),"checkOutside",function(e){n.menu&&n.menu.contains(e.target)||n.onClose()}),n}return Q()(t,e),q()(t,[{key:"componentDidUpdate",value:function(){var e=this;if(this.state.showMenu)requestAnimationFrame(function(){var t=e.state,n=t.x,i=t.y,o=e.getPosition(n,i),r=o.top,s=o.left;requestAnimationFrame(function(){e.menu&&(e.menu.style.top="".concat(r,"px"),e.menu.style.left="".concat(s,"px"),e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")})});else{if(!this.menu)return;this.menu.style.opacity=0,this.menu.style.pointerEvents="none"}}},{key:"bindEvents",value:function(){document.addEventListener("mousedown",this.checkOutside,!1),document.addEventListener("scroll",this.onClose,!1),document.addEventListener("contextmenu",this.onClose,!1),window.addEventListener("resize",this.onClose,!1)}},{key:"unbindEvents",value:function(){document.removeEventListener("mousedown",this.checkOutside),document.removeEventListener("scroll",this.onClose),document.removeEventListener("contextmenu",this.onClose),window.removeEventListener("resize",this.onClose)}},{key:"componentWillUnmount",value:function(){this.unbindEvents()}},{key:"renderMenu",value:function(e){var t=this,n=this.state.showMenu;return a("nav",{ref:function(e){t.menu=e},tabindex:-1,style:{position:"fixed",opacity:0,pointerEvents:"none"},className:fe()("context-menu",n&&"is-open")},Array.isArray(e)?e.map(function(e){var n=e.name,i=e.action;return a("li",null,a("a",{href:"",onClick:t.onClick(i)},n))}):null)}},{key:"render",value:function(e){var t=e.children,n=e.menu;return a("div",null,t[0]({openMenu:this.onOpen}),this.renderMenu(n))}}]),t}(D)),Me=function(e){function t(e){var n;return F()(this,t),n=V()(this,X()(t).call(this,e)),oe()(ue()(ue()(n)),"onMenuClick",function(e,t){switch(e){case"@rename":return n.setState({rename:t})}}),oe()(ue()(ue()(n)),"onNodeClick",function(e){return function(t){t.preventDefault();var i=n.state.data;switch(e.type){case"folder":n.setState({data:ge()(i,{open:oe()({},e.path,function(e){return!e})})})}}}),oe()(ue()(ue()(n)),"onRenameKeyDown",function(e){if(13===e.keyCode){e.preventDefault();var t=n.state.rename,i=String(e.target.value).trim();if(!i||!t)return n.setState({rename:!1});n.setState({submitting:!0,data:ge()(n.state.data,{paths:oe()({},t,{name:{$set:i}})})}),n.props.channel.send("@socket:files:rename",{path:t,name:i}).then(function(){n.setState({submitting:!1,rename:!1})})}}),n.state={data:Ce.get(e.files),rename:!1,submitting:!1},n.contextMenu=[{action:"@open",name:"Open"},{action:"@rename",name:"Rename"},{action:"@delete",name:"Delete"}],n}return Q()(t,e),q()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.files;t!==this.props.files&&this.setState({data:Ce.get(t)})}},{key:"renderNode",value:function(e,t,n){var i=this;if(!t)return null;var o=null;return"folder"===t.type&&Ce.open(e,t)&&(o=a("ul",null,Ce.children(e,t).map(function(t){return i.renderNode(e,t,n)}))),a("li",{key:t.path},a("a",{href:"",className:"_node",onClick:this.onNodeClick(t),onContextMenu:n(t.path)},a("i",{className:"far fa-fw fa-".concat(Ce.icon(e,t))}),this.state.rename===t.path?a("input",{defaultValue:t.name,ref:function(e){e&&e.select()},disabled:this.state.submitting,onBlur:function(){return i.setState(function(e){return{rename:e.submitting}})},onKeyDown:this.onRenameKeyDown}):a("span",null,t.name)),o)}},{key:"render",value:function(e,t){var n=this;ye()(e);var i=t.data;t.menu;return a(Ke,{menu:this.contextMenu,onClick:this.onMenuClick},function(e){var t=e.openMenu;return a("ul",{className:"project-list"},Ce.root(i).map(function(e){return n.renderNode(i,e,t)}))})}}]),t}(D),Le=function(e){var t=e.children;return a("div",{className:"panel"},a("div",{className:"panel__top"},a("span",{className:"panel__title"},e.title),a("span",{className:"panel__actions"},a("i",{className:"fas fa-search"}))),a("div",{className:"panel__content-wrap"},a("div",{className:"panel__content"},t)))},Se=(n(41),function(e){var t={};return Array.isArray(e)?e.reduce(function(e,n){var i=n.path.split("/").slice(0,-1),o=i.join("/");for(e.push(ge()(n,{parent:{$set:o}}));"."!==o&&!t[o]&&i.length;)t[o]=!0,e.push({name:i.pop(),path:o,type:"folder",parent:o=i.join("/")});return e},[]).sort(function(e,t){return e.name.localeCompare(t.name)}):[]}),Pe=function(e){function t(){var e,n;F()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=V()(this,(e=X()(t)).call.apply(e,[this].concat(o))),oe()(ue()(ue()(n)),"state",{raw:[],files:[]}),oe()(ue()(ue()(n)),"onFileList",function(e){n.setState({files:Se(e),raw:e})}),oe()(ue()(ue()(n)),"onFileCreate",function(e){var t=n.state.raw;n.setState({files:Se(t.concat(e)),raw:t.concat(e)})}),oe()(ue()(ue()(n)),"onFileChange",function(e){}),oe()(ue()(ue()(n)),"onFileDelete",function(e){var t=n.state.raw.filter(function(t){return t.path!==e.path});n.setState({files:Se(t),raw:t})}),n}return Q()(t,e),q()(t,[{key:"componentDidMount",value:function(){this.props.channel.send("@socket:files:list"),this.props.channel.on("@socket:files:list",this.onFileList),this.props.channel.on("@socket:files:create",this.onFileCreate),this.props.channel.on("@socket:files:change",this.onFileChange),this.props.channel.on("@socket:files:delete",this.onFileDelete)}},{key:"componentWillUnmount",value:function(){this.props.channel.off("@socket:files:list",this.onFileList),this.props.channel.off("@socket:files:create",this.onFileCreate),this.props.channel.off("@socket:files:change",this.onFileChange),this.props.channel.off("@socket:files:delete",this.onFileDelete)}},{key:"render",value:function(e,t){var n=e.channel,i=t.files;return a(Le,{title:"Project Explorer"},a("div",{className:"project-explorer"},a(Me,{files:i,channel:n})))}}]),t}(D),Ae=function(e){function t(){var e,n;F()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=V()(this,(e=X()(t)).call.apply(e,[this].concat(o))),oe()(ue()(ue()(n)),"state",{history:[]}),oe()(ue()(ue()(n)),"onHistoryPush",function(e){n.setState(ge()(n.state,{history:{$unshift:[e]}}))}),n}return Q()(t,e),q()(t,[{key:"componentDidMount",value:function(){this.props.channel.on("@history:push",this.onHistoryPush)}},{key:"componentWillUnmount",value:function(){this.props.channel.off("@history:push",this.onHistoryPush)}},{key:"render",value:function(e,t){ye()(e);var n=t.history;return a(Le,{title:"History"},a("ul",null,n.map(function(e,t){return a("li",{key:t},e.content)})))}}]),t}(D);Le.Container=ee;for(var Ne=function(e){function t(e){var n;return F()(this,t),n=V()(this,X()(t).call(this,e)),oe()(ue()(ue()(n)),"onLayerClick",function(e){return function(e){e.preventDefault()}}),n.state={data:Array.isArray(e.layers)?e.layers:[]},n}return Q()(t,e),q()(t,[{key:"renderLayer",value:function(e){return a("li",{key:"".concat(e.index,"-").concat(function(e){return String(e).toLowerCase().split(/[^\w]+/).join("-")}(e.name))},a("a",{href:"",onClick:this.onLayerClick(e)},a("i",{className:"far fa-fw fa-".concat(e.visible?"eye":"eye-slash")}),a("span",null,e.name)))}},{key:"render",value:function(e,t){var n=this;return ye()(e),a("ul",{className:"layers"},t.data.map(function(e){return n.renderLayer(e)}))}}]),t}(D),Oe=(n(43),[{name:"Test Layer",visible:!0,index:0},{name:"Test Layer 2",visible:!1,index:1}]),Te=function(e){function t(){return F()(this,t),V()(this,X()(t).apply(this,arguments))}return Q()(t,e),q()(t,[{key:"render",value:function(){return a(Le,{title:"Layers"},a(Ne,{layers:Oe}))}}]),t}(D),De=n(7),je=n.n(De),Be=function(){function e(t){F()(this,e),this.selection=[],this.tileset=null,this._start=null,this._end=null}return q()(e,[{key:"setTileset",value:function(e){this.tileset=e}},{key:"get",value:function(){if(!this.selection.length)return[];for(var e,t,n,i=this.tileset.cols,o=this.tileset.rows,r=0,s=0,a=0;a<this.selection.length;a++){var l=je()(this.selection[a],3);e=l[0],t=l[1],n=l[2],i=Math.min(i,e),r=Math.max(r,e),o=Math.min(o,t),s=Math.max(s,t)}for(var c=r-i,u=s-o,h=Math.floor(c/2),f=Math.floor(u/2),d=new Array(this.selection.length),p=0;p<this.selection.length;p++){var v=je()(this.selection[p],3);e=v[0],t=v[1],n=v[2],d[p]=[e-i-h,t-o-f,n]}return d}},{key:"clear",value:function(){this.selection=[]}},{key:"start",value:function(e){return this._start=e,this.selection=[],this.update(this._start)}},{key:"update",value:function(e){var t=this;if(this._end=e,!this._start||!this._end)return!1;for(var n=je()(this._start,2),i=n[0],o=n[1],r=je()(this._end,2),s=r[0],a=r[1],l=i-s,c=o-a,u=l>0?s:i,h=c>0?a:o,f=u+Math.abs(l)+1,d=h+Math.abs(c)+1,p=new Array(Math.abs(l)*Math.abs(c)),v=0,y=u;y<f;y++)for(var m=h;m<d;m++)p[v]=[y,m,y+m*this.tileset.cols],v+=1;var g=p.length!==this.selection.length||!p.every(function(e,n){return!!t.selection[n]&&t.selection[n][2]===e[2]});return g&&(this.selection=p),g}},{key:"draw",value:function(e,t){if(this.tileset&&this.tileset.tileWidth&&this.tileset.tileHeight){var n,i,o=this.tileset,r=o.tileWidth,s=o.tileHeight;e.save(),e.fillStyle="#0374D9",e.globalAlpha=.5;for(var a=0;a<this.selection.length;a++){var l=je()(this.selection[a],2);n=l[0],i=l[1],e.fillRect(n*r*t,i*s*t,r*t,s*t)}e.restore()}}}]),e}(),Re=function(){function e(){F()(this,e),this.visible=!0}return q()(e,[{key:"show",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}},{key:"draw",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(t&&t.tileWidth&&t.tileHeight){var i=e.canvas,o=i.width,r=i.height,s=t.tileWidth,a=t.tileHeight;if(this.visible||!s||!a){var l=s*n,c=a*n,u=o/l,h=r/c;e.save(),e.globalAlpha=.5,e.setLineDash([2,2]);for(var f=0;f<=u;f++)e.beginPath(),e.moveTo(f*l+.5,0),e.lineTo(f*l+.5,r),e.stroke();for(var d=0;d<=h;d++)e.beginPath(),e.moveTo(0,d*c+.5),e.lineTo(o,d*c+.5),e.stroke();e.restore()}}}}]),e}(),ze=function(){function e(t,n){var i=this;F()(this,e),oe()(this,"getTile",function(e){e.preventDefault();var t=i.canvas.getBoundingClientRect(),n=e.clientX-t.left,o=e.clientY-t.top,r=n/i.zoom,s=o/i.zoom;return i.tileset&&r<i.tileset.width&&s<i.tileset.height?[Math.floor(r/i.tileset.tileWidth),Math.floor(s/i.tileset.tileHeight)]:-1}),oe()(this,"onMouseDown",function(e){var t=i.getTile(e);-1===t?(i.selection.clear(),i.paint(i.ctx)):i.selection.start(t)&&(i.mouseDown=!0,i.paint(i.ctx))}),oe()(this,"onMouseUp",function(){i.channel.dispatch("@tools:selection:set",i.selection.get())}),oe()(this,"onMouseMove",function(e){var t=i.getTile(e);-1!==t&&i.mouseDown&&i.selection.update(t)&&i.paint(i.ctx)}),oe()(this,"onKeyDown",function(e){32===e.keyCode&&(e.preventDefault(),e.stopPropagation())}),this.node=t,this.canvas=this.node.querySelector("canvas"),this.ctx=this.canvas.getContext("2d"),this.selection=new Be(n),this.channel=n,this.grid=new Re,this.paint(this.ctx),this.setZoom(1),this.setupChannel(),this.setupListeners()}return q()(e,[{key:"setupChannel",value:function(){var e=this;this.channel.on("@tileset:change",function(t){e.tileset=t,e.selection.setTileset(t),e.setZoom(e.zoom)})}},{key:"setupListeners",value:function(){var e=this;this.mouseDown=!1,this.node.addEventListener("mousedown",this.onMouseDown,!1),this.node.addEventListener("contextmenu",this.onMouseDown,!1),this.node.addEventListener("mouseup",this.onMouseUp,!1),this.node.addEventListener("mousemove",this.onMouseMove,!1),this.node.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("mouseup",function(){e.mouseDown=!1},!1)}},{key:"setZoom",value:function(e){this.zoom=e,this.tileset&&this.tileset.width&&this.tileset.height&&(this.canvas.width=this.tileset.width*e+1,this.canvas.height=this.tileset.height*e+1,this.ctx.imageSmoothingEnabled=!1,this.paint(this.ctx))}},{key:"clear",value:function(){this.canvas.width=0,this.canvas.height=0}},{key:"paint",value:function(e){var t=this.canvas,n=t.width,i=t.height;e.clearRect(0,0,n,i),this.tileset&&this.tileset.img&&e.drawImage(this.tileset.img,0,0,n,i),this.selection.draw(e,this.zoom),this.grid.draw(e,this.tileset,this.zoom)}}]),e}(),He=(n(48),function(e){function t(){return F()(this,t),V()(this,X()(t).apply(this,arguments))}return Q()(t,e),q()(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){this.tileset=new ze(this.base,this.props.channel)}},{key:"render",value:function(){return a(Le,{title:"Tileset"},a("div",{className:"tileset"},a("canvas",{className:"tileset__canvas",width:0,height:0})))}}]),t}(D)),We=(n(17),n(50),[500,400,300,250,200,150,100,75,50,25].map(function(e){return{action:e/100,name:"".concat(e,"%")}})),Ue=function(e){var t=e.value,n=e.onChange;return a(Ke,{menu:We,onClick:n},function(e){var n=e.openMenu;return a("button",{className:"button",onContextMenu:n(),onClick:n(),style:{width:100}},100*t,"%")})},Ye=function(e){function t(){var e,n;F()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=V()(this,(e=X()(t)).call.apply(e,[this].concat(o))),oe()(ue()(ue()(n)),"state",{position:!1,zoom:"2",grid:!0}),oe()(ue()(ue()(n)),"onZoomChange",function(e){n.props.channel.dispatch("@app:zoom:set",parseFloat(e,10))}),oe()(ue()(ue()(n)),"onGridClick",function(){n.props.channel.dispatch("@app:grid:set",!n.state.grid)}),oe()(ue()(ue()(n)),"onAppGrid",function(e){return n.setState({grid:e})}),oe()(ue()(ue()(n)),"onAppZoom",function(e){return n.setState({zoom:e})}),oe()(ue()(ue()(n)),"onToolPosition",function(e){(!1!==e||n.state.position)&&n.setState({position:e})}),n}return Q()(t,e),q()(t,[{key:"componentDidMount",value:function(){this.props.channel.on("@tools:position:set",this.onToolPosition),this.props.channel.on("@app:zoom:set",this.onAppZoom),this.props.channel.on("@app:grid:set",this.onAppGrid)}},{key:"componentWillUnmount",value:function(){this.props.channel.off("@tools:position:set",this.onToolPosition),this.props.channel.off("@app:zoom:set",this.onAppZoom),this.props.channel.off("@app:grid:set",this.onAppGrid)}},{key:"render",value:function(e,t){ye()(e);var n=t.position,i=t.zoom,o=t.grid;return a("nav",{className:"bottom-controls"},a("ul",{className:"_left"},a("li",null,n?"".concat(n[0],", ").concat(n[1]):null)),a("ul",{className:"_right"},a("li",null,a("button",{className:"button",onClick:this.onGridClick},a("i",{className:"fas fa-fw fa-th",style:{color:o?"#fff":"#676767"}}))),a("li",null,a(Ue,{value:i,onChange:this.onZoomChange}))))}}]),t}(D),$e=n(10),Fe=n.n($e),Ie=n(12),qe=n.n(Ie),Ge=function(){function e(t){var n=this;F()(this,e),this._listeners=new Map,this._messages=new Set,this._socketConnected=!1,"undefined"==typeof WebSocket?console.error("WebSocket support is required"):(this.socket=new WebSocket(t),this.socket.addEventListener("message",function(e){try{var t=JSON.parse(e.data),i=je()(t,2),o=i[0],r=i[1];n.dispatch(o,r)}catch(e){}}),this.socket.addEventListener("open",function(){n._socketConnected=!0,n._messages.size&&(n._messages.forEach(function(e){return n.socket.send(e)}),n._messages.clear())}))}return q()(e,[{key:"send",value:function(){var e=qe()(Fe.a.mark(function e(t){var n,i,o=this,r=arguments;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},i=JSON.stringify([t,n]),this.socket&&this._socketConnected?this.socket.send(i):this._socketConnected||this._messages.add(i),e.abrupt("return",new Promise(function(e){return o.once(t,function(t){return e(t)})}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"dispatch",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._listeners.has(e)&&this._listeners.get(e).forEach(function(e){return e.apply(void 0,n)})}},{key:"on",value:function(e,t){this._listeners.has(e)||this._listeners.set(e,new Set),this._listeners.get(e).add(t)}},{key:"once",value:function(e,t){var n=this;this.on(e,function i(){t.apply(void 0,arguments),n.off(e,i)})}},{key:"off",value:function(e,t){this._listeners.has(e)&&(this._listeners.get(e).delete(t),this._listeners.get(e).size||this._listeners.delete(e))}}]),e}(),Ve=function(){function e(t,n){var i=n.src,o=je()(n.shape,2),r=o[0],s=o[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;F()(this,e),this.img=t,this.src=i,this.cols=Math.floor(t.width/r),this.rows=Math.floor(t.height/s),this.tileWidth=r,this.tileHeight=s,this.width=this.cols*r,this.height=this.rows*s,this.size=this.cols*this.rows,this.startTile=a,this.endTile=a+this.size}return q()(e,[{key:"get",value:function(e){if(this.startTile<=e&&e<this.endTile)return!1;var t=e-this.startTile;return[t%this.cols,Math.floor(t/this.cols)]}},{key:"draw",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(!(this.startTile<=t&&t<this.endTile))return!1;var r=t-this.startTile,s=r%this.cols,a=Math.floor(r/this.cols);e.drawImage(this.img,s*this.tileWidth,a*this.tileHeight,this.tileWidth,this.tileHeight,n,i,this.tileWidth*o,this.tileHeight*o)}}]),e}(),Ze={x:function(e){return e[0]},y:function(e){return e[1]},create:function(e,t){return[e,t]},set:function(e,t){return e[0]=t[0],e[1]=t[1],e},clone:function(e){return[e[0],e[1]]},scale:function(e,t){return e[0]*=t,e[1]*=t,e},add:function(e,t){return e[0]=e[0]+t[0],e[1]=e[1]+t[1],e},scew:function(e,t,n){return e[0]*=t,e[1]*=n,e},sub:function(e,t){return e[0]=e[0]-t[0],e[1]=e[1]-t[1],e},len2:function(e){return Math.pow(e[0],2)+Math.pow(e[1],2)},len:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},floor:function(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e},abs:function(e){return e[0]=Math.abs(e[0]),e[1]=Math.abs(e[1]),e},round:function(e){return e[0]=Math.round(e[0]),e[1]=Math.round(e[1]),e},equal:function(e,t){return e[0]===t[0]&&e[1]===t[1]}},Xe={x:function(e){return e[0]},y:function(e){return e[1]},width:function(e){return e[2]},height:function(e){return e[3]},create:function(e,t,n,i){return[e,t,n,i]},has:function(e,t){return e[0]<=t[0]&&t[0]<e[2]&&e[1]<=t[1]&&t[1]<e[3]}},Je=n(22),Qe=n.n(Je),et=function(){function e(){F()(this,e),this.offset=[100,10],this.floatOffset=[100,100],this.zoom=2}return q()(e,[{key:"setupChannel",value:function(e){var t=this;e.on("@app:zoom:set",function(e){t.zoom=e})}},{key:"translate",value:function(e){Ze.add(this.floatOffset,e),Ze.set(this.offset,Ze.round(Ze.clone(this.floatOffset)))}},{key:"bresenham",value:function(e,t,n,i){e.tileWidth,e.tileHeight,e.cols,e.rows;var o=Ze.sub(Ze.clone(t),n),r=this.getPoint(e,o),s=je()(r,2),a=s[0],l=s[1],c=this.getPoint(e,t),u=je()(c,2),h=u[0],f=u[1];return Qe()(a,l,h,f,function(e,t){return i(Ze.floor([e,t]))})}},{key:"getPoint",value:function(e,t){var n=e.tileWidth,i=e.tileHeight,o=(e.cols,e.rows,je()(t,2)),r=o[0],s=o[1],a=je()(this.offset,2),l=a[0],c=a[1],u=this.zoom;return[(r-l)/(n*u),(s-c)/(i*u)]}},{key:"getTile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Ze.floor(this.getPoint(e,t)),o=Xe.create(0,0,e.cols,e.rows),r=Xe.has(o,i);return n?{valid:r,tile:i}:r&&i}},{key:"getBounds",value:function(e,t,n,i,o){var r=e.canvas,s=r.width,a=r.height,l=je()(this.offset,2),c=l[0],u=l[1],h=this.zoom,f=c>=0?0:Math.min(i,Math.floor(-c/(t*h))),d=u>=0?0:Math.min(o,Math.floor(-u/(n*h))),p=c+f*t*h,v=u+d*n*h,y=Math.ceil(Math.min(i-f,(s-p)/(t*h))),m=Math.ceil(Math.min(o-d,(a-v)/(n*h))),g=Math.min(i,f+y),b=Math.min(i,d+m);return{offset:Ze.create(p,v),area:Xe.create(f,d,g,b),zoom:this.zoom}}}]),e}(),tt=function(){function e(t){var n=this;F()(this,e),this.wrapper=t,this.view=t.querySelector("canvas"),this.ctx=this.view.getContext("2d"),this.wrapper.appendChild(this.view),this.resizeCanvas(),window.addEventListener("resize",function(){n.resizeCanvas(),n.onResize([n.view.width,n.view.height])})}return q()(e,[{key:"addInputListener",value:function(e){return this.input=e,this.input.setupMouseEvents(this.view),e}},{key:"resizeCanvas",value:function(){var e=this.wrapper.getBoundingClientRect();this.view.width=e.width,this.view.height=e.height,this.ctx.imageSmoothingEnabled=!1}}]),e}(),nt=function(){function e(t){F()(this,e),this.visible=!0}return q()(e,[{key:"setupChannel",value:function(e){var t=this;e.on("@app:grid:set",function(e){t.visible=e})}},{key:"show",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}},{key:"draw",value:function(e,t,n){if(this.visible&&n){var i=n.tileWidth,o=n.tileHeight,r=n.rows,s=n.cols,a=t.getBounds(e,i,o,s,r),l=a.offset,c=a.area,u=a.zoom;e.save(),e.globalAlpha=.5,e.setLineDash([2,2]);for(var h=i*u,f=o*u,d=Xe.width(c)-Xe.x(c),p=Xe.height(c)-Xe.y(c),v=Ze.x(l)+.5,y=d*i*u+.5,m=Ze.y(l)+.5,g=p*o*u+.5,b=0;b<=d;b++)e.beginPath(),e.moveTo(b*h+v,m),e.lineTo(b*h+v,m+g),e.stroke();for(var _=0;_<=p;_++)e.beginPath(),e.moveTo(v,_*f+m),e.lineTo(v+y,_*f+m),e.stroke();e.restore()}}}]),e}(),it=function(e){switch(e.type){case"keydown":case"keyup":return e.keyCode;case"contextmenu":case"mouseup":case"mousedown":return e.button}},ot={KEY_BACKSPACE:8,KEY_TAB:9,KEY_ENTER:13,KEY_SHIFT:16,KEY_CTRL:17,KEY_ALT:18,KEY_BREAK:19,KEY_PAUSE:19,KEY_CAPS_LOCK:20,KEY_ESC:27,KEY_SPACE:32,KEY_PAGE_UP:33,KEY_PAGE_DOWN:34,KEY_END:35,KEY_HOME:36,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_INSERT:45,KEY_DELETE:46,KEY_COMMAND:91,KEY_LEFT_COMMAND:91,KEY_RIGHT_COMMAND:93,KEY_WINDOWS:91},rt=65;rt<=90;rt++)ot["KEY_".concat(String.fromCharCode(rt))]=rt;var st=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};F()(this,e),oe()(this,"onMouse",function(e){var n=t.node.getBoundingClientRect();Ze.set(t.state.nextMouse,Ze.sub([e.clientX,e.clientY],[n.x,n.y]))}),oe()(this,"onKeyDown",function(e){if(t.listening){"contextmenu"===e.type&&e.preventDefault();var n=t.bindings.get(it(e));n&&!t.down(n)&&t.state.nextPressed.add(n)}}),oe()(this,"onKeyUp",function(e){var n=t.bindings.get(it(e));n&&t.down(n)&&t.state.nextReleased.add(n)}),this.bindings=new Map,this.state={down:new Set,pressed:new Set,released:new Set,nextMouse:Ze.create(0,0),nextPressed:new Set,nextReleased:new Set},this.listening=!0,this.mouse={delta:Ze.create(0,0),position:Ze.create(0,0)},this.bindActions(n)}return q()(e,[{key:"listen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.listening=e}},{key:"getState",value:function(){var e=this.state,t=e.down,n=e.pressed,i=e.released,o=e.nextMouse,r=e.nextPressed,s=e.nextReleased;return n.size&&n.clear(),r.size&&(r.forEach(function(e){t.add(e),n.add(e)}),r.clear()),i.size&&i.clear(),s.size&&(s.forEach(function(e){t.delete(e),i.add(e)}),s.clear()),Ze.set(this.mouse.delta,Ze.sub(Ze.clone(o),this.mouse.position)),Ze.set(this.mouse.position,o),this}},{key:"bindAction",value:function(e,t){var n=this;return Array.isArray(t)?(t.forEach(function(t){n.bindings.set(t,e)}),this):this.bindAction(e,[t])}},{key:"bindActions",value:function(e){var t=this;return Object.keys(e).forEach(function(n){t.bindAction(n,e[n])}),this}},{key:"setupChannel",value:function(e){var t=this,n=new RegExp("^@"),i=!0,o=!1,r=void 0;try{for(var s,a=function(){var i=s.value;n.test(i)&&e.on(i,function(){var e=t.bindings.get(i);e&&!t.down(e)&&(t.state.nextPressed.add(e),t.state.nextReleased.add(e))})},l=this.bindings.keys()[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)a()}catch(e){o=!0,r=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw r}}}},{key:"setupMouseEvents",value:function(e){this.dispose(),this.node=e,this.setupListeners()}},{key:"down",value:function(e){return this.state.down.has(e)}},{key:"pressed",value:function(e){return this.state.pressed.has(e)}},{key:"released",value:function(e){return this.state.released.has(e)}},{key:"setupListeners",value:function(){document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.onKeyUp,!1),this.node&&(this.node.addEventListener("mousemove",this.onMouse,!1),this.node.addEventListener("mouseenter",this.onMouse,!1),this.node.addEventListener("mouseleave",this.onMouse,!1),this.node.addEventListener("contextmenu",this.onKeyDown,!1),this.node.addEventListener("mousedown",this.onKeyDown,!1),this.node.addEventListener("mouseup",this.onKeyUp,!1),document.addEventListener("mouseup",this.onKeyUp,!1))}},{key:"dispose",value:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),this.node&&(this.node.removeEventListener("mousemove",this.onMouse),this.node.removeEventListener("mouseenter",this.onMouse),this.node.removeEventListener("mouseleave",this.onMouse),this.node.removeEventListener("mousedown",this.onKeyDown),this.node.removeEventListener("mouseup",this.onKeyUp))}}]),e}();oe()(st,"Keys",ot),oe()(st,"Buttons",{LEFT:0,MIDDLE:1,RIGHT:2});var at=0,lt=function(){function e(){F()(this,e),oe()(this,"onChange",function(e){}),this.layers=[]}return q()(e,[{key:"setupChannel",value:function(e){this.onChange=function(t){e.dispatch("@control:history:change",{undo:t.hasPrev(),redo:t.hasNext()}),e.dispatch("@history:push",{content:"".concat(at++,": Entry")})}}},{key:"add",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t.add(e)}):(e.onChange=this.onChange,this.layers.unshift(e))}},{key:"set",value:function(e){var t=e>=0&&e<this.layers.length;this._active=t&&e}},{key:"delete",value:function(e){var t=this.layers.indexOf(e);-1!==t&&(this.layers[t].onChange=void 0,this.layers.splice(t,1))}},{key:"resizeBuffer",value:function(e){this.layers.forEach(function(t){return t.resizeBuffer(e)})}},{key:"draw",value:function(e,t){this.layers.forEach(function(n){return n.draw(e,t)})}},{key:"active",value:function(){return!1!==this._active?this.layers[this._active]:null}}]),e}(),ct=n(13),ut=n.n(ct),ht=["add","remove","same"],ft=ht.reduce(function(e,t,n){return e[t]=n,e},{}),dt=function(e){return e.map(function(e){var t=e.type,n=e.oldPos,i=e.newPos,o=e.items;return[ft[t],n,i,o]})},pt=function(e){return e.map(function(e){var t=je()(e,4),n=t[0],i=t[1],o=t[2],r=t[3];return{type:ht[n],oldPos:i,newPos:o,items:r}})},vt=function(e,t){var n=t.cols,i=t.rows;if(Array.isArray(e))return e;for(var o=new Array(n*i),r=0;r<o.length;r++)o[r]=-1;return o},yt=function(e){function t(e,n,i,o){var r;return F()(this,t),(r=V()(this,X()(t).call(this,e,vt(n,o),o))).tileset=i,r}return Q()(t,e),q()(t,[{key:"get",value:function(e,t){return this.data[e+t*this.cols]}},{key:"getTile",value:function(e){var t=je()(e,2),n=t[0],i=t[1];return this.get(n,i)}},{key:"setTile",value:function(e,t){var n=je()(e,2),i=n[0],o=n[1],r=i>=0&&i<this.cols&&o>=0&&o<this.rows;return r&&(this.data[i+o*this.cols]=t),r}},{key:"draw",value:function(e,t){var n=this.tileWidth,i=this.tileHeight,o=this.rows,r=this.cols,s=t.getBounds(e,n,i,r,o),a=s.offset,l=s.area,c=s.zoom,u=Xe.x(l),h=Xe.y(l),f=Xe.width(l),d=Xe.height(l),p=n*c,v=i*c,y=Ze.x(a),m=Ze.y(a);e.save(),this.alpha<1&&(e.globalAlpha=this.alpha);for(var g=u;g<f;g++)for(var b=h;b<d;b++)this.tileset.draw(e,this.data[g+b*r],y+(g-u)*p,m+(b-h)*v,c);e.restore()}}]),t}(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=i.tileWidth,r=i.tileHeight,s=i.cols,a=i.rows;F()(this,e),oe()(this,"onChange",function(){}),this.name=t,this.tileWidth=o,this.tileHeight=r,this.cols=s,this.rows=a,this.data=n,this._startData=n.slice(0),this._prevData=new Array(n.length),this._patches=[],this._patchIndex=0,this._setPrevData(),this.alpha=1,this.visible=!0}return q()(e,[{key:"_setPrevData",value:function(){for(var e=0;e<this.data.length;e++)this._prevData[e]=this.data[e];this.onChange(this)}},{key:"_resetData",value:function(){for(var e=0;e<this.data.length;e++)this.data[e]=this._startData[e]}},{key:"hasNext",value:function(){return this._patchIndex<this._patches.length}},{key:"hasPrev",value:function(){return this._patchIndex>0}},{key:"snapshot",value:function(){var e=this._patches.length-this._patchIndex;e>0&&this._patches.splice(this._patchIndex,e);var t=dt(ut.a.getPatch(this._prevData,this.data));t.length&&(this._patches.push(t),this._patchIndex+=1,this._setPrevData())}},{key:"back",value:function(){if(this.hasPrev()&&(this._patchIndex=Math.max(0,this._patchIndex-1),this._patchIndex>=0)){this._resetData();for(var e=0;e<this._patchIndex;e++)this.data=ut.a.applyPatch(this.data,pt(this._patches[e]));this._setPrevData()}}},{key:"forward",value:function(){if(this.hasNext()&&(this._patchIndex=Math.min(this._patches.length,this._patchIndex+1),this._patchIndex<=this._patches.length)){this._resetData();for(var e=0;e<this._patchIndex;e++)this.data=ut.a.applyPatch(this.data,pt(this._patches[e]));this._setPrevData()}}},{key:"setVisible",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.visible=e}},{key:"resizeBuffer",value:function(){}},{key:"draw",value:function(e,t){}}]),e}()),mt=function(){function e(t,n){var i=n.hotkey,o=n.mask,r=void 0===o?0:o,s=n.icon;F()(this,e),this.name=t,this.icon=s,this.mask=r,this.active=!0,this.hotkeys=(Array.isArray(i)?i:[i]).filter(Boolean),this.selected=!1}return q()(e,[{key:"setupChannel",value:function(e){}},{key:"onSelect",value:function(e){}},{key:"onDeselect",value:function(e){}},{key:"test",value:function(e){return(this.mask&e)===this.mask}},{key:"show",value:function(){this.active=!0}},{key:"hide",value:function(){this.active=!1}},{key:"list",value:function(){return{selected:this.selected,active:this.active,hotkeys:this.hotkeys,tooltip:this.hotkeys.reduce(function(e,t){return e.concat(["(".concat(t,")")])},[]).join(", "),icon:this.icon,name:this.name,mask:this.mask}}},{key:"update",value:function(e,t,n,i){}},{key:"draw",value:function(e,t){}}]),e}();oe()(mt,"TOOL_TILE_LAYER",1),oe()(mt,"TOOL_OBJECT_LAYER",2);var gt=function(){function e(){F()(this,e),this._active=!1,this.start=!1,this.end=!1}return q()(e,[{key:"active",value:function(){return!(!this.start||!this.end)}},{key:"update",value:function(e,t,n,i){var o=this,r=Xe.create(0,0,i.cols,i.rows);this._active||(Xe.has(r,e)?(this._active=!0,this.start=Ze.clone(e)):(this.start=!1,this.end=!1)),this._active&&t.bresenham(i,n.mouse.position,n.mouse.delta,function(e){Xe.has(r,e)&&(o.end=e)})}},{key:"released",value:function(){this._active=!1}},{key:"selection",value:function(e){if(!this.active())return[];for(var t=Math.min(Ze.x(this.start),Ze.x(this.end)),n=Math.min(Ze.y(this.start),Ze.y(this.end)),i=Ze.add(Ze.abs(Ze.sub(Ze.clone(this.start),this.end)),[1,1]),o=je()(i,2),r=o[0],s=o[1],a=Math.floor(r/2),l=Math.floor(s/2),c=t+r,u=n+s,h=Ze.create(),f={sx:t,sy:n,w:r,h:s,hw:a,hh:l,ex:c,ey:u},d=t;d<c;d++)for(var p=n;p<u;p++)h[0]=d,h[1]=p,e(h,f)}},{key:"get",value:function(e){var t=[];return this.selection(function(n,i){var o=i.sx,r=i.sy,s=i.hw,a=i.hh,l=e.getTile(n);-1!==l&&t.push([Ze.x(n)-o-s,Ze.y(n)-r-a,l])}),t}},{key:"reset",value:function(){this._active=!1,this.start=!1,this.end=!1}},{key:"draw",value:function(e,t,n){if(n&&n.visible&&this.active()){var i=t.zoom*n.tileWidth,o=t.zoom*n.tileHeight,r=Ze.add(Ze.scew(Ze.create(Math.min(Ze.x(this.start),Ze.x(this.end)),Math.min(Ze.y(this.start),Ze.y(this.end))),i,o),t.offset),s=Ze.scew(Ze.add(Ze.abs(Ze.sub(Ze.clone(this.start),this.end)),[1,1]),i,o);e.save(),e.fillStyle="#0374D9",e.globalAlpha=.5,e.fillRect(Ze.x(r),Ze.y(r),Ze.x(s),Ze.y(s)),e.restore()}}}]),e}(),bt=function(e){function t(e,n){var i;return F()(this,t),i=V()(this,X()(t).call(this,e,{hotkey:n,mask:mt.TOOL_TILE_LAYER,icon:"paint-brush"})),oe()(ue()(ue()(i)),"setTileset",function(e){i.tileset=e}),oe()(ue()(ue()(i)),"setSelection",function(e){i.selection=e}),i.mode="draw",i.position=!1,i.area=new gt,i.selection=[],i.tileset=null,i.hasPut=!1,i.onPositionChange=function(){},i}return Q()(t,e),q()(t,[{key:"setupChannel",value:function(e){e.on("@tileset:change",this.setTileset),e.on("@tools:selection:set",this.setSelection),this.onPositionChange=function(t){e.dispatch("@tools:position:set",t)}}},{key:"put",value:function(e,t,n){var i=this;e.bresenham(n,t.mouse.position,t.mouse.delta,function(e){for(var t=0;t<i.selection.length;t++){var o=i.selection[t];n.setTile(Ze.add(Ze.clone(e),o),o[2])&&(i.hasPut=!0)}})}},{key:"update",value:function(e,t,n){if(this.shouldDraw=!(!n||!n.visible),this.shouldDraw){this.mode="draw";var i=this.position&&Ze.clone(this.position);this.position=e.getTile(n,t.mouse.position,!0).tile.slice(0,2),i&&Ze.equal(i,this.position)||this.onPositionChange(Xe.has([0,0,n.rows,n.cols],this.position)&&this.position),t.down("rightmouse")?(this.mode="select",this.area.update(this.position,e,t,n)):t.released("rightmouse")?(this.setSelection(this.area.get(n)),this.area.reset()):t.down("leftmouse")?this.put(e,t,n):t.released("leftmouse")&&this.hasPut&&(n.snapshot(),this.hasPut=!1)}}},{key:"drawOverlay",value:function(e,t,n){e.save();for(var i=t.zoom*n.tileWidth,o=t.zoom*n.tileHeight,r=Xe.create(0,0,n.cols,n.rows),s=0;s<this.selection.length;s++){var a=this.selection[s],l=Ze.add(Ze.clone(a),this.position),c=Xe.has(r,l);Ze.add(Ze.scew(l,i,o),t.offset),e.fillStyle=c?"#0374D9":"#FF4137",e.globalAlpha=.8,this.tileset.draw(e,a[2],Ze.x(l),Ze.y(l),t.zoom),e.globalAlpha=.5,e.fillRect(Ze.x(l),Ze.y(l),i,o)}e.restore()}},{key:"draw",value:function(e,t,n){if(this.shouldDraw&&null!==this.tileset&&this.position)switch(this.mode){case"select":this.area.draw(e,t,n);break;case"draw":this.drawOverlay(e,t,n)}}}]),t}(mt),_t=function(e){function t(e,n){var i;return F()(this,t),(i=V()(this,X()(t).call(this,e,{hotkey:n,mask:mt.TOOL_TILE_LAYER,icon:"eraser"}))).position=!1,i.hasErased=!1,i.onPositionChange=function(){},i}return Q()(t,e),q()(t,[{key:"setupChannel",value:function(e){this.onPositionChange=function(t){e.dispatch("@tools:position:set",t)}}},{key:"put",value:function(e,t,n){var i=this;e.bresenham(n,t.mouse.position,t.mouse.delta,function(e){n.setTile(Ze.clone(e),-1)&&(i.hasErased=!0)})}},{key:"update",value:function(e,t,n){if(this.shouldDraw=!(!n||!n.visible),this.shouldDraw){var i=this.position&&Ze.clone(this.position);this.position=e.getTile(n,t.mouse.position,!0).tile.slice(0,2),i&&Ze.equal(i,this.position)||this.onPositionChange(Xe.has([0,0,n.rows,n.cols],this.position)&&this.position),t.down("leftmouse")?this.put(e,t,n):t.released("leftmouse")&&this.hasErased&&(n.snapshot(),this.hasErased=!1)}}},{key:"draw",value:function(e,t,n){var i=t.zoom*n.tileWidth,o=t.zoom*n.tileHeight,r=Xe.create(0,0,n.cols,n.rows);if(Xe.has(r,this.position)){var s=Ze.add(Ze.scew(Ze.clone(this.position),i,o),t.offset);e.save(),e.fillStyle="#FF4137",e.globalAlpha=.5,e.fillRect(Ze.x(s),Ze.y(s),i,o),e.restore()}}}]),t}(mt),wt=function(e,t,n){for(var i,o,r,s,a,l=je()(n,2),c=l[0],u=l[1],h=t.cols,f=t.rows,d=t.data,p=function(e,t){return d[e+t*h]},v=function(t,n){return e[t+n*h]},y=function(t,n,i){e[t+n*h]=i},m=p(c,u),g=[c],b=[u],_=0;b.length;)if(p(o=g.pop(),i=b.pop())===m){r=s=i;do{r-=1}while(p(o,r)===m&&r>=0);do{s+=1}while(p(o,s)===m&&s<f);for(a=r+1;a<s;a+=1){if(y(o,a,!0),(_+=1)>4e4)return;o-1>=0&&!v(o-1,a)&&p(o-1,a)===m&&(g.push(o-1),b.push(a)),o+1<h&&!v(o+1,a)&&p(o+1,a)===m&&(g.push(o+1),b.push(a))}}},kt=function(e,t){for(var n=t.cols,i=0;i<e.length;i++)if(!1!==e[i])return[i%n,Math.floor(i/n)];return[0,0]};var Ct=function(){function e(){F()(this,e),this.data=[],this.hasData=!1}return q()(e,[{key:"clear",value:function(){if(this.hasData){for(var e=0;e<this.data.length;e++)this.data[e]=!1;this.hasData=!1}}},{key:"get",value:function(e,t){return this.data[Ze.x(e)+Ze.y(e)*t.cols]}},{key:"update",value:function(e,t,n,i){if(n&&n.visible){this.data.length!==n.data.length&&(this.data=new Array(n.cols*n.rows),this.hasData=!0,this.clear());var o=e.getTile(n,t.mouse.position,!0);i(o.valid,o.tile)}}},{key:"put",value:function(e){if(this.hasData)for(var t=Ze.create(),n=0;n<this.data.length;n++){var i=this.data[n];!1!==i&&(t[0]=n%e.cols,t[1]=Math.floor(n/e.cols),e.setTile(t,i))}}},{key:"fill",value:function(e,t,n){wt(this.data,e,t),function(e,t,n,i){for(var o,r,s,a=t.cols,l=(t.rows,i.length),c=0,u=i.length,h=0,f=0;f<i.length;f++){var d=je()(i[f],3);o=d[0],r=d[1],s=d[2],l=Math.min(o,l),c=Math.max(o,c),u=Math.min(r,u),h=Math.max(r,h)}for(var p=1+c-l,v=1+h-u,y=new Array(i.length),m=0;m<i.length;m++){var g=je()(i[m],3);o=g[0],r=g[1],s=g[2],y[(o-l)%p+(r-u)*p]=s}for(var b=kt(e,t),_=je()(b,2),w=(_[0],_[1],function(e,t){return y[e%p+t%v*p]}),k=0;k<e.length;k++)if(!1!==e[k]){var C=w(k%a,Math.floor(k/a));e[k]=C}}(this.data,e,0,n),this.hasData=!0}},{key:"draw",value:function(e,t,n,i){if(this.hasData&&n&&n.visible&&null!==i){var o=n.tileWidth,r=n.tileHeight,s=n.rows,a=n.cols,l=t.getBounds(e,o,r,a,s),c=l.offset,u=l.area,h=l.zoom,f=Xe.x(u),d=Xe.y(u),p=Xe.width(u),v=Xe.height(u),y=o*h,m=r*h,g=Ze.x(c),b=Ze.y(c);e.save(),e.fillStyle="#0374D9";for(var _=f;_<p;_++)for(var w=d;w<v;w++){var k=g+(_-f)*y,C=b+(w-d)*m,x=this.data[_+w*a];!1!==x&&(e.globalAlpha=.8,i.draw(e,x,k,C,h),e.globalAlpha=.5,e.fillRect(k,C,y,m))}e.restore()}}}]),e}(),xt=function(e){function t(e,n){var i;return F()(this,t),i=V()(this,X()(t).call(this,e,{hotkey:n,mask:mt.TOOL_TILE_LAYER,icon:"fill-drip"})),oe()(ue()(ue()(i)),"setTileset",function(e){i.tileset=e}),oe()(ue()(ue()(i)),"setSelection",function(e){if(i.selection=e,e.length){var t=e.find(function(e){return 0===e[0]&&0===e[1]});i.tile=t?t[2]:e[0][2]}else i.tile=null}),i.mode="fill",i.buffer=new Ct,i.area=new gt,i.selection=[],i.tileset=null,i.tile=null,i}return Q()(t,e),q()(t,[{key:"setupChannel",value:function(e){e.on("@tileset:change",this.setTileset),e.on("@tools:selection:set",this.setSelection)}},{key:"update",value:function(e,t,n){var i=this;this.shouldDraw=!(!n||!n.visible),this.shouldDraw&&(this.mode="fill",t.down("rightmouse")?(this.mode="select",this.area.update(e.getTile(n,t.mouse.position,!0).tile.slice(0,2),e,t,n)):t.released("rightmouse")?(this.setSelection(this.area.get(n)),this.area.reset()):(this.selection.length?this.buffer.update(e,t,n,function(e,t){e&&n.getTile(t)!==i.tile?!1===i.buffer.get(t,n)&&(i.buffer.clear(),i.buffer.fill(n,t,i.selection)):i.buffer.clear()}):this.buffer.clear(),t.pressed("leftmouse")&&(this.buffer.put(n),this.buffer.hasData&&n.snapshot(),this.buffer.clear())))}},{key:"draw",value:function(e,t,n){if(this.shouldDraw&&null!==this.tileset&&n)switch(this.mode){case"select":this.area.draw(e,t,n);break;case"fill":this.buffer.draw(e,t,n,this.tileset)}}}]),t}(mt),Et=function(e){function t(e,n){var i;return F()(this,t),(i=V()(this,X()(t).call(this,e,{hotkey:n,mask:mt.TOOL_TILE_LAYER,icon:"vector-square"}))).tileset=null,i.area=new gt,i}return Q()(t,e),q()(t,[{key:"onSelect",value:function(){this.channel.dispatch("@control:edit:selection:set",!!this.area.active())}},{key:"setupChannel",value:function(e){var t=this;this.channel=e,this.channel.on("@tileset:change",function(e){t.tileset=e})}},{key:"copy",value:function(e){this.area.active()&&this.channel.dispatch("@control:edit:clipboard:set",this.area.get(e))}},{key:"clear",value:function(e){this.area.selection(function(t){e.setTile(t,-1)}),this.channel.dispatch("@control:edit:selection:set",!1)}},{key:"update",value:function(e,t,n){this.shouldDraw=!(!n||!n.visible),this.shouldDraw&&(t.pressed("cut")?(this.copy(n),this.clear(n),this.area.reset(),n.snapshot()):t.pressed("copy")?(this.copy(n),this.area.reset()):t.pressed("remove")&&(this.clear(n),this.area.reset(),n.snapshot()),t.down("leftmouse")&&(this.area.update(e.getTile(n,t.mouse.position,!0).tile.slice(0,2),e,t,n),t.pressed("leftmouse")&&this.channel.dispatch("@control:edit:selection:set",!1))),t.released("leftmouse")&&(this.area.active()&&this.channel.dispatch("@control:edit:selection:set",!!this.area.get(n).length),this.area.released())}},{key:"draw",value:function(e,t,n){this.shouldDraw&&this.area.draw(e,t,n)}}]),t}(mt),Kt=n(23),Mt=n.n(Kt),Lt=function(){function e(t){F()(this,e);var n=t.reduce(function(e,t){return e.concat([[t.name,t]])},[]);this.tools=new Map(n),this._list=n.map(function(e){return e[0]}),this.currentTool=!!this.tools.size&&this.get(n[0][0]),this._next=!1,this.tileset=null}return q()(e,[{key:"setupChannel",value:function(e){var t=this;e.on("@tileset:change",function(e){t.tileset=e}),e.on("@tools:set",function(e){t.tools.has(e)&&t.get(e).active&&t.set(e)}),this.tools.forEach(function(t){t.setupChannel(e),t.hotkeys.forEach(function(n){Mt.a.bind(n,function(){e.dispatch("@tools:set",t.name)})})}),this.onChange=function(){e.dispatch("@tools:change",t.list())},this.onChange()}},{key:"onChange",value:function(){}},{key:"list",value:function(){var e=this;return this._list.map(function(t){return e.get(t).list()})}},{key:"add",value:function(e){this.tools.set(e.name,e)}},{key:"set",value:function(e){this.tools.has(e)&&(this._next=e)}},{key:"get",value:function(e){return this.tools.get(e)}},{key:"current",value:function(){if(this._next){var e=this.get(this._next);this.currentTool&&(this.currentTool.selected=!1,this.currentTool.onDeselect(e)),e&&(e.selected=!0,e.onSelect(this.currentTool)),this.currentTool=e,this._next=!1,this.onChange()}return this.currentTool}}]),e}(),St=function(){function e(){F()(this,e),this.running=!1,this.raf=null}return q()(e,[{key:"start",value:function(e){var t=this;if(!this.running){this.running=!0;var n=performance.now();this.raf=requestAnimationFrame(function i(o){t.running&&(t.raf=requestAnimationFrame(i)),e((o-n)/1e3),n=o})}}},{key:"stop",value:function(){this.running=!1,cancelAnimationFrame(this.raf)}}]),e}(),Pt=function(e){return fetch(e).then(function(e){return e.json()})},At=function(e){return new Promise(function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=function(e){return n(e)},i.src=e})},Nt=function(){var e=qe()(Fe.a.mark(function e(t){var n,i,o,r=arguments;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:0,e.next=3,Pt(t);case 3:return i=e.sent,e.next=6,At(i.src);case 6:return o=e.sent,e.abrupt("return",new Ve(o,i,n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Ot=function(){function e(t,n){var i=this;F()(this,e),oe()(this,"onMouseEnter",function(){i.inputListener.listen(!0)}),oe()(this,"onMouseLeave",function(){i.inputListener.listen(!1)}),this.properties={tileWidth:16,tileHeight:16,cols:20,rows:20},this.node=t,this.canvas=new tt(t),this.inputListener=this.canvas.addInputListener(new st({leftmouse:[st.Buttons.LEFT],rightmouse:[st.Buttons.RIGHT],space:[st.Keys.KEY_SPACE],cut:["@control:edit:cut",st.Keys.KEY_X],copy:["@control:edit:copy",st.Keys.KEY_C],undo:["@control:history:undo",st.Keys.KEY_U],redo:["@control:history:redo",st.Keys.KEY_R],remove:[st.Keys.KEY_DELETE,st.Keys.KEY_BACKSPACE]})),this.grid=new nt,this.layers=new lt,this.tools=new Lt([new Et("area","v"),new bt("pencil",["p","b"]),new _t("erase","e"),new xt("fill","f")]),this.tools.set("pencil"),this.camera=new et,this.timer=new St,this.setupListeners(),this.setupChannel(n),Nt("/res/tilesets/dungeon.json").then(function(e){n.dispatch("@tileset:change",e),i.layers.add(new yt("Test Layer",null,e,i.properties)),i.layers.set(0)})}return q()(e,[{key:"setupChannel",value:function(e){this.layers.setupChannel(e),this.tools.setupChannel(e),this.inputListener.setupChannel(e),this.camera.setupChannel(e),this.grid.setupChannel(e)}},{key:"setupListeners",value:function(){var e=this;this.node.addEventListener("mouseenter",this.onMouseEnter,!1),this.node.addEventListener("mouseleave",this.onMouseLeave,!1),this.canvas.onResize=function(t){e.layers.resizeBuffer(t),e.paint(e.canvas.ctx,e.tools.current(),e.layers.active())}}},{key:"apply",value:function(e){}},{key:"paint",value:function(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),this.layers.draw(e,this.camera),t&&t.draw(e,this.camera,n),this.grid.draw(e,this.camera,n)}},{key:"start",value:function(){var e=this;this.timer.start(function(){var t=e.inputListener.getState(),n=e.tools.current(),i=e.layers.active(),o=!1;t.down("space")&&t.down("leftmouse")?(e.cursor="grabbing",e.camera.translate(t.mouse.delta)):t.down("space")?e.cursor="grab":(e.cursor="default",t.pressed("undo")?(i.back(),o=!0):t.pressed("redo")?(i.forward(),o=!0):n&&(n.update(e.camera,t,i),o=!0)),e.paint(e.canvas.ctx,o&&n,i)})}},{key:"stop",value:function(){this.timer.stop()}},{key:"cursor",set:function(e){e!==this._cursor&&(this._cursor=e,this.node.style.cursor=e)},get:function(){return this._cursor}}]),e}(),Tt=(n(61),function(e){function t(){return F()(this,t),V()(this,X()(t).apply(this,arguments))}return Q()(t,e),q()(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){this.editor=new Ot(this.base,this.props.channel),this.editor.start(),window.addEventListener("focus",this.editor.start.bind(this.editor)),window.addEventListener("blur",this.editor.stop.bind(this.editor))}},{key:"render",value:function(){return a("div",{className:"editor"},a("canvas",{className:"editor__canvas"}))}}]),t}(D)),Dt=le.TopMenu,jt=le.Content,Bt=le.LeftMenu,Rt=le.Center,zt=le.RightMenu,Ht=le.BottomMenu,Wt=new Ge("ws://localhost:3000");j(a(function(){return a(le,{theme:"dark"},a(Dt,null,a(ke,{channel:Wt})),a(jt,{channel:Wt},a(Bt,null,a(Pe,{channel:Wt}),a(Ae,{channel:Wt})),a(Rt,null,a(Tt,{channel:Wt}),a(Ht,null,a(Ye,{channel:Wt}))),a(zt,null,a(He,{channel:Wt}),a(Te,{channel:Wt}))))},null),document.body)}]);